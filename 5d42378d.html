<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Python通用编程 | Mio's blog</title><meta name="keywords" content="语雀"><meta name="author" content="Mio"><meta name="copyright" content="Mio"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="名称空间 名称空间 我们可以使用类名加.dict方法，查看类的名称空间，那么对象的名称空间能不能查看呢？ 在定义类的阶段产生类的名称空间，那么什么时候产生对象的名称空间呢？你要先告诉我什么时候产生对 象，只有在调用类的时候才会产生对象，这个时候就会产生出对象的名称空间，有了名称空间就是把对象存好了，但是存不是目的，我们目的是取 123456789101112131415161718192">
<meta property="og:type" content="article">
<meta property="og:title" content="Python通用编程">
<meta property="og:url" content="http://bassmio.github.io/5d42378d.html">
<meta property="og:site_name" content="Mio&#39;s blog">
<meta property="og:description" content="名称空间 名称空间 我们可以使用类名加.dict方法，查看类的名称空间，那么对象的名称空间能不能查看呢？ 在定义类的阶段产生类的名称空间，那么什么时候产生对象的名称空间呢？你要先告诉我什么时候产生对 象，只有在调用类的时候才会产生对象，这个时候就会产生出对象的名称空间，有了名称空间就是把对象存好了，但是存不是目的，我们目的是取 123456789101112131415161718192">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tva2.sinaimg.cn/mw690/6833939bly1giclwuom7cj20zk0m8dvn.jpg">
<meta property="article:published_time" content="2021-05-17T05:49:51.000Z">
<meta property="article:modified_time" content="2021-07-14T10:18:52.156Z">
<meta property="article:author" content="Mio">
<meta property="article:tag" content="语雀">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tva2.sinaimg.cn/mw690/6833939bly1giclwuom7cj20zk0m8dvn.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://bassmio.github.io/5d42378d"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-07-14 18:18:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">24</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/firstcover/"><i class="fa-fw fa fa-graduation-cap"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://bassmio.gitee.io/"><i class="fa-fw fab fa-flickr"></i><span> 镜像站</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-toolbox"></i><span> 工具箱</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/box/"><i class="fa-fw fab fa-xbox"></i><span> 网址导航</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://bassmio.herokuapp.com/"><i class="fa-fw fa fa-cloud"></i><span> onedrive</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://akiyama.bassmio.workers.dev"><i class="fa-fw fa fa-cloud"></i><span> GD</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="http://49.232.148.129:9969/1d0a67ac"><i class="fa-fw fab fa-flickr"></i><span> BT</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="http://49.232.148.129:8080"><i class="fa-fw fa fa-cloud"></i><span> Zfile</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-microphone-alt"></i><span> 随言碎语</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-book"></i><span> 日志</span></a></li><li><a class="site-page" href="/shuoshuo/"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://tva2.sinaimg.cn/mw690/6833939bly1giclwuom7cj20zk0m8dvn.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Mio's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/firstcover/"><i class="fa-fw fa fa-graduation-cap"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://bassmio.gitee.io/"><i class="fa-fw fab fa-flickr"></i><span> 镜像站</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-toolbox"></i><span> 工具箱</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/box/"><i class="fa-fw fab fa-xbox"></i><span> 网址导航</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://bassmio.herokuapp.com/"><i class="fa-fw fa fa-cloud"></i><span> onedrive</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://akiyama.bassmio.workers.dev"><i class="fa-fw fa fa-cloud"></i><span> GD</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="http://49.232.148.129:9969/1d0a67ac"><i class="fa-fw fab fa-flickr"></i><span> BT</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="http://49.232.148.129:8080"><i class="fa-fw fa fa-cloud"></i><span> Zfile</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-microphone-alt"></i><span> 随言碎语</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-book"></i><span> 日志</span></a></li><li><a class="site-page" href="/shuoshuo/"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Python通用编程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-05-17T05:49:51.000Z" title="发表于 2021-05-17 13:49:51">2021-05-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-07-14T10:18:52.156Z" title="更新于 2021-07-14 18:18:52">2021-07-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="名称空间">名称空间</h1>
<h2 id="名称空间-1">名称空间</h2>
<p>我们可以使用类名加<code>.dict</code>方法，查看类的名称空间，那么对象的名称空间能不能查看呢？</p>
<p>在定义类的阶段产生类的名称空间，那么什么时候产生对象的名称空间呢？你要先告诉我什么时候产生对<br />
象，只有在调用类的时候才会产生对象，这个时候就会产生出对象的名称空间，有了名称空间就是把对象存好了，但是存不是目的，我们目的是取</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name  <span class="comment"># 把name这个属性放进对象的名称空间中</span></span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;Deep的名称空间&quot;</span>, DeepshareStudent.__dict__)</span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Deep的名称空间&quot;</span>, DeepshareStudent.__dict__)</span><br><span class="line">print(stu1.__dict__)</span><br><span class="line">print(stu1.__dict__[<span class="string">&quot;name&quot;</span>])</span><br><span class="line">print(stu1.name)</span><br></pre></td></tr></table></figure>
<pre><code>Deep的名称空间 &#123;&#39;__module__&#39;: &#39;__main__&#39;, &#39;school&#39;: &#39;deepshare&#39;, &#39;__init__&#39;: &lt;function DeepshareStudent.__init__ at 0x000001CB92353288&gt;, &#39;learn&#39;: &lt;function DeepshareStudent.learn at 0x000001CB92353AF8&gt;, &#39;eat&#39;: &lt;function DeepshareStudent.eat at 0x000001CB92353438&gt;, &#39;sleep&#39;: &lt;function DeepshareStudent.sleep at 0x000001CB92353678&gt;, &#39;__dict__&#39;: &lt;attribute &#39;__dict__&#39; of &#39;DeepshareStudent&#39; objects&gt;, &#39;__weakref__&#39;: &lt;attribute &#39;__weakref__&#39; of &#39;DeepshareStudent&#39; objects&gt;, &#39;__doc__&#39;: None&#125;
Deep的名称空间 &#123;&#39;__module__&#39;: &#39;__main__&#39;, &#39;school&#39;: &#39;deepshare&#39;, &#39;__init__&#39;: &lt;function DeepshareStudent.__init__ at 0x000001CB92353288&gt;, &#39;learn&#39;: &lt;function DeepshareStudent.learn at 0x000001CB92353AF8&gt;, &#39;eat&#39;: &lt;function DeepshareStudent.eat at 0x000001CB92353438&gt;, &#39;sleep&#39;: &lt;function DeepshareStudent.sleep at 0x000001CB92353678&gt;, &#39;__dict__&#39;: &lt;attribute &#39;__dict__&#39; of &#39;DeepshareStudent&#39; objects&gt;, &#39;__weakref__&#39;: &lt;attribute &#39;__weakref__&#39; of &#39;DeepshareStudent&#39; objects&gt;, &#39;__doc__&#39;: None&#125;
&#123;&#39;name&#39;: &#39;王二小&#39;, &#39;age&#39;: 18, &#39;gender&#39;: &#39;male&#39;&#125;
王二小
王二小</code></pre>
<p>现在我们定义的类做一下修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line">    name = <span class="string">&quot;aaaaaaaaaa&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(stu1.name)  <span class="comment"># init函数中有name</span></span><br><span class="line">print(stu1.school)</span><br></pre></td></tr></table></figure>
<pre><code>王二小
deepshare</code></pre>
<p>很明显我用对象找他的独有的name属性 就应该从init中找name</p>
<p>但是，如果init函数中没有呢？</p>
<p>这个对象stu1会先从他自己对象的名称空间中找school这个属性，但是他发现没有这个属性，那就后退一级，往类的名称空间中找，注意对象的名称空间和类的名称空间不是一个概念，接下来我们会说明这个问题</p>
<p>如果类的名称空间中没有，他还会往上找吗？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    name = <span class="string">&quot;aaaaaaaaaa&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">print(stu1.school)</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-6-5b94cae47be0&gt; in &lt;module&gt;
     21 
     22 stu1 = DeepshareStudent(&quot;王二小&quot;, 18, &quot;male&quot;)
---&gt; 23 print(stu1.school)


AttributeError: &#39;DeepshareStudent&#39; object has no attribute &#39;school&#39;</code></pre>
<p>肯定是不能的，写代码的时候Pycharm就会有错误的提示了，现在school是定义在全局，与对象stu1没有任何关系</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">print(DeepshareStudent.__dict__)</span><br><span class="line">print(<span class="built_in">id</span>(DeepshareStudent.__dict__))</span><br><span class="line">print(stu1.__dict__)</span><br><span class="line">print(<span class="built_in">id</span>(stu1.__dict__))</span><br><span class="line">print(<span class="built_in">id</span>(stu2.__dict__))</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#39;__module__&#39;: &#39;__main__&#39;, &#39;school&#39;: &#39;deepshare&#39;, &#39;__init__&#39;: &lt;function DeepshareStudent.__init__ at 0x00000127D29D48B8&gt;, &#39;learn&#39;: &lt;function DeepshareStudent.learn at 0x00000127D29D4948&gt;, &#39;eat&#39;: &lt;function DeepshareStudent.eat at 0x00000127D29D49D8&gt;, &#39;sleep&#39;: &lt;function DeepshareStudent.sleep at 0x00000127D29D4A68&gt;, &#39;__dict__&#39;: &lt;attribute &#39;__dict__&#39; of &#39;DeepshareStudent&#39; objects&gt;, &#39;__weakref__&#39;: &lt;attribute &#39;__weakref__&#39; of &#39;DeepshareStudent&#39; objects&gt;, &#39;__doc__&#39;: None&#125;
1270548332504
&#123;&#39;name&#39;: &#39;王二小&#39;, &#39;age&#39;: 18, &#39;gender&#39;: &#39;male&#39;&#125;
1270548922680
1270548819464</code></pre>
<p>我现在造了两个对象stu1和stu2，打印结果可以说明，他们分别有自己的内存空间，类也有自己的内存空间，那么这之间有什么关系呢？</p>
<p><img src= "/img/ballloading.gif" data-lazy-src="attachment:f58bad1b-6343-4cac-8083-decca3ab2d62.png" alt="image.png" /> &gt;他们三部分是完全独立的，没有包含与被包含的关系，只不过用对象点属性做属性查找的时候先从对象的名称空间中查找，如果能够找到，就是使用对象的名称空间存的，如果找不到就取类的名称空间中找，再找不到就要报错了，错误提示：对象没有这个属性。</p>
<h2 id="绑定方法">绑定方法</h2>
<p>前面我们研究是对象的特征（用变量表示的，接下来我们来研究对象的技能（用函数来表示的），不管是特征还是技能这些都是对象的属性，这是我们前面已经证明过的，那么接下来我们就来调用对象的属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span>  <span class="comment"># 该变量属性所有对象共用</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span>  <span class="comment"># 类实例化的不同对象，有各自的名称空间。self为其对象本身</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">print(DeepshareStudent.learn)</span><br><span class="line">print(stu1.learn)</span><br><span class="line">print(stu2.learn)</span><br><span class="line">print(<span class="built_in">id</span>(DeepshareStudent.school))</span><br><span class="line">print(<span class="built_in">id</span>(stu1.school))</span><br><span class="line">print(<span class="built_in">id</span>(stu2.school))</span><br></pre></td></tr></table></figure>
<pre><code>&lt;function DeepshareStudent.learn at 0x00000127D2952558&gt;
&lt;bound method DeepshareStudent.learn of &lt;__main__.DeepshareStudent object at 0x00000127D290B348&gt;&gt;
&lt;bound method DeepshareStudent.learn of &lt;__main__.DeepshareStudent object at 0x00000127D290B108&gt;&gt;
1270548266736
1270548266736
1270548266736</code></pre>
<p>从输出结果我们可以看到用类来调learn属性拿到的是一个普通方法，而用对象去调learn属性拿到的是</p>
<blockquote>
<p>绑定方法，这个方法是绑定到类属性上的</p>
</blockquote>
<blockquote>
<p>我们再来理解一下，类是直接从自己的名称空间中拿到learn属性，而对象在自己的名称空间中找learn属性没有找到，就要到类的名称空间中去找，相当于是间接拿到了learn属性。类内部定义的函数自己能使用，但主要是给对象用的。再来看一下内存地址，上面三个函数属性的内存地址是完全不同的，而下面三个变量属性的内存地址是完全一样的。这是因为类内部的变量是直接给对象使用，而类内部的函数是绑定给对象使用，这怎么理解呢</p>
</blockquote>
<p>你们大家都是Deepshare的学生，都有一个相似的技能叫做学习，但是你学习能学到小明身上了，你学习并不能代表小明学习，虽然你们都具有学习的功能。这就叫绑定方法，大家用的是同一个功能，但是绑定给谁，就是谁在执行</p>
<p>那么这在程序中怎么体现呢？（其实我们前面的代码已经用过了，只是我还没讲）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is learning&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">DeepshareStudent.learn(<span class="string">&quot;albert&quot;</span>)</span><br><span class="line">stu1.learn()</span><br></pre></td></tr></table></figure>
<pre><code>is learning
is learning</code></pre>
<blockquote>
<p>执行代码，我们会发现，类调用learn方法必须要传一个参数，而stu1调用learn方法不需要传参数，但是learn确实是需要一个参数的，那就说明他是自动传了一个参数，我们怎么验证呢</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is learning&quot;</span>, self)  <span class="comment"># 打印一下self就知道了</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">DeepshareStudent.learn(<span class="string">&quot;albert&quot;</span>)</span><br><span class="line">stu1.learn()</span><br><span class="line">print(stu1)</span><br></pre></td></tr></table></figure>
<pre><code>is learning albert
is learning &lt;__main__.DeepshareStudent object at 0x00000127D294BF88&gt;
&lt;__main__.DeepshareStudent object at 0x00000127D294BF88&gt;</code></pre>
<p>仔细看看是不是一样的</p>
<p>这就说明stu1调用learn方法本质原理就是把它自己传进来</p>
<p>这就是绑定方法，类内部定义的函数，类可以使用，但是类来使用的时候就是一个普通函数，普通函数有几个参数就传几个参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(DeepshareStudent.learn)</span><br><span class="line">DeepshareStudent.learn(<span class="string">&quot;albert&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;function DeepshareStudent.learn at 0x00000127D29D4DC8&gt;
is learning albert</code></pre>
<p>但是类内部定义的函数其实是为了给对象用的，而且是绑定给对象用的，绑定给不同的对象，就是不同的绑定方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(stu1.learn)</span><br><span class="line">print(stu2.learn)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;bound method DeepshareStudent.learn of &lt;__main__.DeepshareStudent object at 0x00000127D294BF88&gt;&gt;
&lt;bound method DeepshareStudent.learn of &lt;__main__.DeepshareStudent object at 0x00000127D294BCC8&gt;&gt;</code></pre>
<p>绑定方法的特殊之处在于谁来调用，就会把谁当作第一个参数自动传入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is learning&quot;</span>, self)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu1.learn()</span><br><span class="line">stu2.learn()</span><br></pre></td></tr></table></figure>
<pre><code>is learning &lt;__main__.DeepshareStudent object at 0x00000127D293FA88&gt;
is learning &lt;__main__.DeepshareStudent object at 0x00000127D293F308&gt;</code></pre>
<p>接下来我们单独用stu1来说明</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="comment"># self=stu1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self.name)  <span class="comment"># self就是stu1，stu1有name方法</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu1.learn()</span><br><span class="line">stu2.learn()</span><br></pre></td></tr></table></figure>
<pre><code>王二小 is learning
王三小 is learning</code></pre>
<blockquote>
<p>综上所述</p>
</blockquote>
<p><strong><code>类内部的变量是给所有对象共享，所有对象指向的都是同一个内存地址</code>； 类内部定义的函数其实是为了给对象用的，而且是绑定给对象用的，绑定给不同的对象，就是不同的绑定方法</strong></p>
<p><strong>类内部定义的函数必须要有self这个参数，但也可以有别的参数</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose</span>(<span class="params">self, course</span>):</span>  <span class="comment"># 在添加一个函数</span></span><br><span class="line">        print(<span class="string">&quot;%s is choosing %s&quot;</span> % (self.name, course))  <span class="comment"># 传一个course参数</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu1.choose(<span class="string">&quot;Python&quot;</span>)  <span class="comment"># 传一个实参</span></span><br><span class="line">stu2.choose(<span class="string">&quot;AI&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>王二小 is choosing Python
王三小 is choosing AI</code></pre>
<p>我们在使用Pycharm工具的时候，遇到括号里面需要传参，Pycharm会自动给我们提示参数的形参，当我们遇到self这个参数的，就当成没有这参数，只需要传其他的参数就可以了，现在你理解了，因为self是会自动传参值的，而且是自动把它本身当作第一个参数传入。</p>
<h2 id="一切皆对象">一切皆对象</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose</span>(<span class="params">self, course</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is choosing %s&quot;</span> % (self.name, course))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">print(stu1)</span><br><span class="line">print(<span class="built_in">type</span>(stu1))</span><br><span class="line">print(<span class="built_in">id</span>(stu1))</span><br></pre></td></tr></table></figure>
<pre><code>&lt;__main__.DeepshareStudent object at 0x00000127D29DFB08&gt;
&lt;class &#39;__main__.DeepshareStudent&#39;&gt;
1270548921096</code></pre>
<p>一个等号表示赋值，stu1其实就是我们定义的一个变量，第一天我们就说过了，一个变量有id，type和值，他的值没什么好说的，就是一个Deepshare类的对象，id就是表示它的内存地址，这也没什么好说的，我们来看stu1的类型是什么 ，忽略main，stu1的类型就是Deepshare，stu1的类也是Deepshare，所以在 Python中</p>
<blockquote>
<p>类与类型是一个概念</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is learning&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose</span>(<span class="params">self, course</span>):</span></span><br><span class="line">        print(<span class="string">&quot;%s is choosing %s&quot;</span> % (self.name, course))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is eating&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;is sleeping&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;王二小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu2 = DeepshareStudent(<span class="string">&quot;王三小&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">print(<span class="built_in">int</span>)</span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line">print(<span class="built_in">list</span>)</span><br><span class="line">print(<span class="built_in">tuple</span>)</span><br><span class="line">print(<span class="built_in">set</span>)</span><br><span class="line">print(<span class="built_in">dict</span>)</span><br><span class="line">print(DeepshareStudent)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;int&#39;&gt;
&lt;class &#39;str&#39;&gt;
&lt;class &#39;list&#39;&gt;
&lt;class &#39;tuple&#39;&gt;
&lt;class &#39;set&#39;&gt;
&lt;class &#39;dict&#39;&gt;
&lt;class &#39;__main__.DeepshareStudent&#39;&gt;</code></pre>
<h2 id="对象属性的增删改查">对象属性的增删改查</h2>
<h3 id="查看">查看</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span>:</span></span><br><span class="line">    n = <span class="number">1111</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = Bar(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">print(obj.__dict__)</span><br><span class="line">print(obj.x)</span><br><span class="line">print(obj.n)</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#39;x&#39;: &#39;abc&#39;&#125;
abc
1111</code></pre>
<h3 id="添加">添加</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span>:</span></span><br><span class="line">    n = <span class="number">1111</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = Bar(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">print(obj.__dict__)</span><br><span class="line">print(obj.x)</span><br><span class="line">print(obj.n)</span><br><span class="line">obj.abc = <span class="string">&quot;abc&quot;</span></span><br><span class="line">print(obj.abc)</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#39;x&#39;: &#39;abc&#39;&#125;
abc
1111
abc</code></pre>
<h3 id="删除">删除</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span>:</span></span><br><span class="line">    n = <span class="number">1111</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = Bar(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">print(obj.__dict__)</span><br><span class="line">print(obj.x)</span><br><span class="line">print(obj.n)</span><br><span class="line">obj.abc = <span class="string">&quot;abc&quot;</span></span><br><span class="line">print(obj.abc)</span><br><span class="line">obj.abc = <span class="string">&quot;123&quot;</span></span><br><span class="line">print(obj.abc)</span><br><span class="line"><span class="keyword">del</span> obj.abc</span><br><span class="line"><span class="comment"># print(obj.abc)</span></span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#39;x&#39;: &#39;abc&#39;&#125;
abc
1111
abc
123</code></pre>
<h3 id="修改">修改</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span>:</span></span><br><span class="line">    n = <span class="number">1111</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = Bar(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">print(obj.__dict__)</span><br><span class="line">print(obj.x)</span><br><span class="line">print(obj.n)</span><br><span class="line">obj.abc = <span class="string">&quot;abc&quot;</span></span><br><span class="line">print(obj.abc)</span><br><span class="line">obj.abc = <span class="string">&quot;123&quot;</span></span><br><span class="line">print(obj.abc)</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#39;x&#39;: &#39;abc&#39;&#125;
abc
1111
abc
123</code></pre>
<h2 id="随堂练习">随堂练习</h2>
<h3 id="练习一">练习一</h3>
<p>实现这样一个功能，有一个对象，他有一个count属性，count属性是统计他所在的类产生了多少个对象，即print(obj.count)能打印出对象的个数</p>
<p>分析：</p>
<p>既然要统计有多少个对象，那么只要有一个对象就要执行一次类的调用，调用一次类，其实就要执行类内部的init函数，所以我们在init函数里面写上相应的逻辑就好了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj1 = Foo()</span><br><span class="line">obj2 = Foo()</span><br><span class="line">obj3 = Foo()</span><br><span class="line">print(obj1.count)</span><br></pre></td></tr></table></figure>
<pre><code>1</code></pre>
<p>这是什么原因呢？ &gt; self是对象自己，obj1，obj2和obj3是互不相通的，虽然每次count都会加一，但是其实每个对象 都有自己的独一份的count，初始值永远是0，每次来都是加1，所以永远是1</p>
<p>我们应该对他们共享的那个属性来做修改，什么属性是共享的呢？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        Foo.count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj1 = Foo()</span><br><span class="line">obj2 = Foo()</span><br><span class="line">obj3 = Foo()</span><br><span class="line">print(obj1.count)</span><br></pre></td></tr></table></figure>
<pre><code>3</code></pre>
<p>虽然这次我们没有在对象自己的名称空间中添加count属性，但是类里面有啊，对象在做属性查找的时候先从自己的名称空间中找，没有就去他所在的类里面找，在类里面，这个count变量属性是所有对像共用的。</p>
<h3 id="练习二">练习二</h3>
<p>实现一个人狗大战的程序，人可以咬狗，狗也可以咬人，人和狗都有自己的生命值，被咬了之后会掉血，当生命值为0时，人或者狗就死了</p>
<p>按照步骤我们先总结出现实中的对象</p>
<p>现实中的人类 """ 人1 特征： 名字='张二炮' 攻击力=60 生命值=100 技能： 咬 人2 特征： 名字='刘老三' 攻击力=50 生命值=100 技能： 咬 现实中的人类 相同的特征 无 相同的技能 咬 """ 现实中的狗类 """ 狗1 特征： 名字='旺财' 品种="京巴" 攻击力=80 生命值=50 技能： 咬 狗2 特征： 名字='小黑' 品种="藏獒" 攻击力=200 生命值=200 技能： 咬 现实中的狗类 相同的特征 无 相同的技能 咬 """</p>
<p>注意：</p>
<p>两个人虽然有相同的特征的，都有名字，攻击力，和生命值，但是这是他们每个人独立的，例如章二炮被咬了之后，他的生命值下降，而刘老三没有被咬，还是原来的值，所以我们定义现实中的人类是没有相同的特征的，同理，现实中的狗类也是一样的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, aggressivity, life_value=<span class="number">100</span></span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.aggressivity = aggressivity</span><br><span class="line">        self.life_value = life_value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 注意：咬肯定不能咬自己，一定是咬敌人，所以要传一个敌人参数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bite</span>(<span class="params">self, enemy</span>):</span>  <span class="comment"># self=p1   enemy=d1</span></span><br><span class="line">        enemy.life_value -= self.aggressivity</span><br><span class="line">        <span class="keyword">if</span> enemy.life_value &gt;= <span class="number">0</span>:</span><br><span class="line">            print(</span><br><span class="line">                <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">            人[%s] 咬了一口狗 [%s]</span></span><br><span class="line"><span class="string">            狗掉血[%s]</span></span><br><span class="line"><span class="string">            狗还剩血量[%s]</span></span><br><span class="line"><span class="string">            &quot;&quot;&quot;</span></span><br><span class="line">                % (self.name, enemy.name, self.aggressivity, enemy.life_value)</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&quot;%s死了&quot;</span> % enemy.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, dog_type, aggressivity, life_value</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.dog_type = dog_type</span><br><span class="line">        self.aggressivity = aggressivity</span><br><span class="line">        self.life_value = life_value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bite</span>(<span class="params">self, enemy</span>):</span>  <span class="comment"># self = d1    enemy= p1</span></span><br><span class="line">        enemy.life_value -= self.aggressivity</span><br><span class="line">        <span class="keyword">if</span> enemy.life_value &gt;= <span class="number">0</span>:</span><br><span class="line">            print(</span><br><span class="line">                <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">            狗[%s] 咬了一口人 [%s]</span></span><br><span class="line"><span class="string">            人掉血[%s]</span></span><br><span class="line"><span class="string">            人还剩血量[%s]</span></span><br><span class="line"><span class="string">            &quot;&quot;&quot;</span></span><br><span class="line">                % (self.name, enemy.name, self.aggressivity, enemy.life_value)</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&quot;&#123;&#125;死了&quot;</span>.<span class="built_in">format</span>(enemy.name))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 = People(<span class="string">&quot;张二炮&quot;</span>, <span class="number">60</span>)</span><br><span class="line">d1 = Dog(<span class="string">&quot;小黑&quot;</span>, <span class="string">&quot;藏獒&quot;</span>, <span class="number">200</span>, <span class="number">200</span>)</span><br><span class="line">p1.bite(d1)</span><br><span class="line">d1.bite(p1)</span><br></pre></td></tr></table></figure>
<pre><code>            人[张二炮] 咬了一口狗 [小黑]
            狗掉血[60]
            狗还剩血量[140]
            
张二炮死了</code></pre>
<h1 id="三大特性">三大特性</h1>
<h2 id="继承">继承</h2>
<p>我们一直在说面向对象扩展性高，从来不知道他的扩展性高体现在哪些方面，接下来我们就来介绍他的三大特性，三大特性分别是继承，多肽和封装，他的特性也是我们以后使用面向对象的一些技巧，第一个我们来说的就是继承。</p>
<h3 id="继承的基本介绍">继承的基本介绍</h3>
<p>什么是继承</p>
<p>继承是一种新建类的方式，我以前定义的类都是class关键字加类名，在Python中支持多继承，就是一个儿子可以继承多个爹，这一点和其他的某些语言不同</p>
<p>从字面意思上理解就是你继承你爹的东西，他继承他爹的东西，继承就像一种遗传的关系，你爹有钱，你也有钱，要是你没钱，那可能你是你爹充话费送的，你爹有一套房子，你也可以跑进去住一下，当然如果你自己有房子，肯定会优先住你自己房子</p>
<p>继承新建的类称为子类或者派生类，被继承的类称为，父类，基类或者超类，子类会遗传父类的属性</p>
<p>假如你爹给你留了一个亿，你还有必要像其他同学一样苦逼呵呵的在这学Python吗，你就可以直接拿着这个钱来花，不用在自己挣钱，不用自己造了，可事实上你爹一毛都没留给你，所以你要靠自己。</p>
<p>为什么要用继承</p>
<p>所以使用继承就是为了减少代码冗余</p>
<p>怎么用继承</p>
<p>继承应该有爹有儿子，下面我们来写代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentClass1</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentClass2</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单继承，原来类名后面直接加冒号，现在我们可以先加括号，括号里面写他的父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass1</span>(<span class="params">ParentClass1</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python中支持多继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass2</span>(<span class="params">ParentClass1, ParentClass2</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># base是基础的意思，这个方法是查看他的父类</span></span><br><span class="line">print(SubClass1.__bases__)</span><br><span class="line">print(SubClass2.__bases__)</span><br></pre></td></tr></table></figure>
<pre><code>(&lt;class &#39;__main__.ParentClass1&#39;&gt;,)
(&lt;class &#39;__main__.ParentClass1&#39;&gt;, &lt;class &#39;__main__.ParentClass2&#39;&gt;)</code></pre>
<p>他的父类会以元祖的形式现实出来</p>
<p>到目前位置我们大概知道了继承是怎么一回事，接下来我们先补充一个简单的小知识点，后面详细介绍 &gt;在Python2 中有经典类与新式类之分，<br />
在Python3 中全都为新式类</p>
<p>我们现在用的主流是Python3 ，而Python3 中全都是新式类，所以在Python3中没必要考虑这个，但是我们也需要知道Python2中是怎么用的，具体怎么区分我们后面会详细讲到，现在大家先知道这个概念</p>
<h3 id="如何寻找继承关系">如何寻找继承关系</h3>
<p>继承是类与类之间的关系，寻找这种继承关系需要先抽象，再具体。什么是抽象呢？就是抽取比较像的部分呀，我们刚学面向对象的时候就是抽取对象中相似的特征总结成了类 ，那么抽取类与类之间相似的地方就总结成了父类</p>
<figure>
<img src= "/img/ballloading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2019/png/281865/1554567518337-6842e3a3-a76b-4194-a9fb-e3db20053013.png#align=left&amp;display=inline&amp;height=375&amp;originHeight=345&amp;originWidth=720&amp;size=0&amp;status=done&amp;width=782?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_10%2Ctext_5L2c6ICF77ya6ams5LiA54m5%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="1" /><figcaption aria-hidden="true">1</figcaption>
</figure>
<p>这个图很明白，不同的人抽象成人类，人狗猪又可以抽象成动物类，抽象完了之后，继承关系就有了，人狗猪都是继承来自动物，他们分别实例化就能得到各自的对象</p>
<figure>
<img src= "/img/ballloading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2019/png/281865/1554567518433-9cd4d7bf-c305-4d3e-b1a6-446440233ab0.png#align=left&amp;display=inline&amp;height=415&amp;originHeight=348&amp;originWidth=720&amp;size=0&amp;status=done&amp;width=858?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_10%2Ctext_5L2c6ICF77ya6ams5LiA54m5%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="2" /><figcaption aria-hidden="true">2</figcaption>
</figure>
<p>假如现在有这样一个需求，把老师和学生，学生可以自由选择课程学习，老师可以对学生的成绩做评分，按照原来的思路，我应该这样写代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;student %s is choosing course&quot;</span> % self.name)</span><br></pre></td></tr></table></figure>
<p>代码写到这里你应可以发现了，这里面有重复的代码，为了避免代码冗余，我们应该使用继承的方式来优化我们的代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;student %s is choosing course&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;张二狗&quot;</span>, <span class="number">18</span>, <span class="string">&quot;female&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>我们在执行代码实例化对象之前，先来看一下代码里面老师类和学生类里面都没有init这个实例化函数，但是程序没有报错说明他确实完成实例化了，怎么证明呢？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(tea1.name, tea1.age, tea1.gender)</span><br></pre></td></tr></table></figure>
<pre><code>albert 18 male</code></pre>
<p>这就说明了子类中没有init函数，他就会去父类中找，也就是说子类是继承了父类的属性，到此为止，你就会发现我们的代码已经精简了，但是他实现的功能并没有减少</p>
<h3 id="属性查找">属性查找</h3>
<p>有了继承关系以后，接下来我们再来说属性的查找，之前我们说过一个对象查找属性的时候，优先去自己的名称空间中查找，如果找不到就会去自己的类中去找，但是现在你会发现类中居然还有自己的父类，那你试想一下，如果一个对象他自己的名称空间中没有，他的类也没有，那接下来应该找谁？</p>
<p>没错，找他爹，如果他的父类没有并且再有父类呢？找他爷爷</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">print(tea1.__dict__)</span><br><span class="line">print(tea1.name)</span><br><span class="line">print(DeepshareTeacher.__dict__)</span><br><span class="line">print(DeepsharePeople.__dict__)</span><br><span class="line">print(tea1.school)</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#39;name&#39;: &#39;albert&#39;, &#39;age&#39;: 18, &#39;gender&#39;: &#39;male&#39;&#125;
albert
&#123;&#39;__module__&#39;: &#39;__main__&#39;, &#39;modify_score&#39;: &lt;function DeepshareTeacher.modify_score at 0x00000127D2952288&gt;, &#39;__doc__&#39;: None&#125;
&#123;&#39;__module__&#39;: &#39;__main__&#39;, &#39;school&#39;: &#39;deepshare&#39;, &#39;__init__&#39;: &lt;function DeepsharePeople.__init__ at 0x00000127D2952828&gt;, &#39;__dict__&#39;: &lt;attribute &#39;__dict__&#39; of &#39;DeepsharePeople&#39; objects&gt;, &#39;__weakref__&#39;: &lt;attribute &#39;__weakref__&#39; of &#39;DeepsharePeople&#39; objects&gt;, &#39;__doc__&#39;: None&#125;
deepshare</code></pre>
<p>从第一个和第二个print中我么可以看出，对象自己的名称空间中有，会优先找自己的名称空间，从第三四五个打印中我们可以发现，teacher对象自己名称空间中没有，会先从自己的类中找，发现自己的类中也没有，就会到他的父类中找，在他的父类中找到了，就会有结果</p>
<p>再来看一个例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(tea1.modify_score)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;bound method DeepshareTeacher.modify_score of &lt;__main__.DeepshareTeacher object at 0x00000127D294E988&gt;&gt;</code></pre>
<p>在对象自己的类里面直接就找到了，不再往下寻找了</p>
<p>接下来，我们再来看一个复杂点的例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;Foo.f1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;Foo.f2&quot;</span>)</span><br><span class="line">        self.f1()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span>(<span class="params">Foo</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;Bar.f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = Bar()</span><br><span class="line">obj.f2()</span><br></pre></td></tr></table></figure>
<pre><code>Foo.f2
Bar.f1</code></pre>
<p>输出结果，我先不贴出来，大家猜一下，再往后面看</p>
<p>分析：</p>
<p>obj是Bar的对象，他调f2方法，先从自己的名称空间中找f2属性，这肯定是没有的，因为obj我们没有给他定制自己的属性，来看一下吧</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(obj.__dict__)</span><br><span class="line">print(obj)</span><br><span class="line">print(Bar.__dict__)</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#125;
&lt;__main__.Bar object at 0x00000127D293F708&gt;
&#123;&#39;__module__&#39;: &#39;__main__&#39;, &#39;f1&#39;: &lt;function Bar.f1 at 0x00000127D2952558&gt;, &#39;__doc__&#39;: None&#125;</code></pre>
<p>那么接下来找自己的类的名称空间，自己类的名称空间没有，那就去父类Foo中找，找到了就会打印Foo.f2，这一点肯定没有问题，那么下面一行self.f1()应该打印哪个f1呢，是离他更近的Foo.f1,还是距离他较远的Bar.f1呢</p>
<p>这里其实与距离远近没有关系，很多同学容易误解，所以我这里就拿出做一个反响引导，当代码执行到self.f1()这一行的时候，我们先<code>要搞清楚self是谁，他就是obj这个对象</code>，按照属性查找顺序</p>
<blockquote>
<p>对象自己的名称名空间====&gt;对象所在的类的名称空间====&gt;对象的所在的类的父类的名称空间</p>
</blockquote>
<h3 id="派生">派生</h3>
<p>刚刚我们讲完了继承，继承的好处是子类可以重用父类的代码，但问题是子类是不是就和父类一模一样就行了，如果这样那你写子类的目的是什么呢？子类有了以子类为准，所以在这里我们再讲一个叫做派生的概念</p>
<p>其实这个概念本章一开始我们就提及到了，假如你爹有一套房子，你可以进去住一下，但是如果你自己有房子，肯定会优先住自己的房子</p>
<p>派生就是在继承的基础上有自己新的东西，如果有自己新的东西，肯定就会以自己新的东西为准</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 派生：子类定义自己新的属性，如果与父类同名，以子类自己的为准</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;爹的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;儿子的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line">tea1.f1()</span><br></pre></td></tr></table></figure>
<pre><code>儿子的f1</code></pre>
<p>我们再来看一个例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;爹的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender, level, salary</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line">        self.level = level</span><br><span class="line">        self.salary = salary</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;儿子的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;10 &quot;</span>, <span class="string">&quot;3.1&quot;</span>)</span><br><span class="line">print(tea1.name, tea1.age, tea1.gender, tea1.level, tea1.salary)</span><br></pre></td></tr></table></figure>
<pre><code>albert 18 male 10  3.1</code></pre>
<p>tea1实例化对象的时候其实就是去他的类中找init函数，如果他自己没有那肯定是去父类中找，但是现在他自己有了，就用自己的，这就是派生的应用，在子类定制自己的属性，从而覆盖父类。子类有一些独特的功能，单独定义，有一些大家共有的在父类还能使用 。</p>
<p>从上面的派生中你有没有发现，我们虽然实现了功能，但是子类里面写了一些重复的代码，我们必须要把重复代码去掉，又要把证这些重复的代码还能用，这又应该怎么操作呢？</p>
<p>我们必须要想一个方案，在子类派生出来的方法中能够重用父类的一段功能</p>
<p>第一种想法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;爹的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender, level, salary</span>):</span></span><br><span class="line">        <span class="comment"># self.name = name</span></span><br><span class="line">        <span class="comment"># self.age = age</span></span><br><span class="line">        <span class="comment"># self.gender = gender</span></span><br><span class="line">        self.__init__(name, age, gender)</span><br><span class="line">        self.level = level</span><br><span class="line">        self.salary = salary</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;儿子的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;10 &quot;</span>, <span class="string">&quot;3.1&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-35-fa21015d6b8d&gt; in &lt;module&gt;
     27 
     28 
---&gt; 29 tea1 = DeepshareTeacher(&quot;albert&quot;, 18, &quot;male&quot;, &quot;10 &quot;, &quot;3.1&quot;)


&lt;ipython-input-35-fa21015d6b8d&gt; in __init__(self, name, age, gender, level, salary)
     16         # self.age = age
     17         # self.gender = gender
---&gt; 18         self.__init__(name, age, gender)
     19         self.level = level
     20         self.salary = salary


TypeError: __init__() missing 2 required positional arguments: &#39;level&#39; and &#39;salary&#39;</code></pre>
<p>我们对象自己重复调用自己的init函数，这是一个递归，执行代码发现报错了，他说少两个参数，其实我们想要调用的并不是自己，而是父类的init，用对象调已经不行了，那我们就用他的父类来调</p>
<p>派生第一种方案（指名道姓的调用父类）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;爹的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender, level, salary</span>):</span></span><br><span class="line">        <span class="comment"># self.name = name</span></span><br><span class="line">        <span class="comment"># self.age = age</span></span><br><span class="line">        <span class="comment"># self.gender = gender</span></span><br><span class="line">        <span class="comment"># 用类来调用，没有自动传值，要把self写上</span></span><br><span class="line">        DeepsharePeople.__init__(self, name, age, gender)</span><br><span class="line">        self.level = level</span><br><span class="line">        self.salary = salary</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;儿子的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;10 &quot;</span>, <span class="string">&quot;3.1&quot;</span>)</span><br><span class="line">print(tea1.name, tea1.age, tea1.gender, tea1.level, tea1.salary)</span><br></pre></td></tr></table></figure>
<pre><code>albert 18 male 10  3.1</code></pre>
<p>到目前为止，我们已经实现了子类重用父类的功能，但是这种方式和继承有关系吗，我们是否可以指名道姓的调用一个和我们当前类没有任何继承关系的一个类呢？当然可以</p>
<p>下面我们在父类中添加一些东西</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        =====个人信息=====</span></span><br><span class="line"><span class="string">        姓名：%s</span></span><br><span class="line"><span class="string">        年龄：%s</span></span><br><span class="line"><span class="string">        性别：%s</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">            % (self.name, self.age, self.gender)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender, level, salary</span>):</span></span><br><span class="line">        <span class="comment"># self.name = name</span></span><br><span class="line">        <span class="comment"># self.age = age</span></span><br><span class="line">        <span class="comment"># self.gender = gender</span></span><br><span class="line">        DeepsharePeople.__init__(self, name, age, gender)</span><br><span class="line">        self.level = level</span><br><span class="line">        self.salary = salary</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;儿子的f1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;10 &quot;</span>, <span class="string">&quot;3.1&quot;</span>)</span><br><span class="line">tea1.info()</span><br></pre></td></tr></table></figure>
<pre><code>        =====个人信息=====
        姓名：albert
        年龄：18
        性别：male</code></pre>
<p>​</p>
<p>teacher还有自己等级和薪资，那么我们再来在子类中添加</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        =====个人信息=====</span></span><br><span class="line"><span class="string">        姓名：%s</span></span><br><span class="line"><span class="string">        年龄：%s</span></span><br><span class="line"><span class="string">        性别：%s</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">            % (self.name, self.age, self.gender)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender, level, salary</span>):</span></span><br><span class="line">        <span class="comment"># self.name = name</span></span><br><span class="line">        <span class="comment"># self.age = age</span></span><br><span class="line">        <span class="comment"># self.gender = gender</span></span><br><span class="line">        DeepsharePeople.__init__(self, name, age, gender)</span><br><span class="line">        self.level = level</span><br><span class="line">        self.salary = salary</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        =====个人信息=====</span></span><br><span class="line"><span class="string">        姓名：%s</span></span><br><span class="line"><span class="string">        年龄：%s</span></span><br><span class="line"><span class="string">        性别：%s</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">            % (self.name, self.age, self.gender)</span><br><span class="line">        )</span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        等级：%s</span></span><br><span class="line"><span class="string">        薪资：%s</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">            % (self.level, self.salary)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;10 &quot;</span>, <span class="string">&quot;3.1&quot;</span>)</span><br><span class="line">tea1.info()</span><br></pre></td></tr></table></figure>
<pre><code>        =====个人信息=====
        姓名：albert
        年龄：18
        性别：male</code></pre>
<p>​<br />
等级：10 薪资：3.1</p>
<p>​</p>
<p>依然有代码重复，如法炮制，他们的原理是一样的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        =====个人信息=====</span></span><br><span class="line"><span class="string">        姓名：%s</span></span><br><span class="line"><span class="string">        年龄：%s</span></span><br><span class="line"><span class="string">        性别：%s</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">            % (self.name, self.age, self.gender)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender, level, salary</span>):</span></span><br><span class="line">        <span class="comment"># self.name = name</span></span><br><span class="line">        <span class="comment"># self.age = age</span></span><br><span class="line">        <span class="comment"># self.gender = gender</span></span><br><span class="line">        DeepsharePeople.__init__(self, name, age, gender)</span><br><span class="line">        self.level = level</span><br><span class="line">        self.salary = salary</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 注意：用类去掉不会自动传self，需要我们手动写一下</span></span><br><span class="line">        DeepsharePeople.info(self)</span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        等级：%s</span></span><br><span class="line"><span class="string">        薪资：%s</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">            % (self.level, self.level)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;10 &quot;</span>, <span class="string">&quot;3.1&quot;</span>)</span><br><span class="line">tea1.info()</span><br></pre></td></tr></table></figure>
<pre><code>        =====个人信息=====
        姓名：albert
        年龄：18
        性别：male</code></pre>
<p>​<br />
等级：10 薪资：10</p>
<p>​</p>
<p>派生第二种方案（用super( )调用）： &gt;super（）的返回值是一个特殊的对象，该对象专门用来调用父类中的属性</p>
<p>我们用super来修改我们的代码</p>
<p>super的调用与第一种派生方式不同，他是严格依赖继承关系，这两种方式都可以使用，没有谁好谁坏，但是两种方式千万不要混合使用，那谁也救不了你啊</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        =====个人信息=====</span></span><br><span class="line"><span class="string">        姓名：%s</span></span><br><span class="line"><span class="string">        年龄：%s</span></span><br><span class="line"><span class="string">        性别：%s</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">            % (self.name, self.age, self.gender)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender, level, salary</span>):</span></span><br><span class="line">        <span class="comment"># self.name = name</span></span><br><span class="line">        <span class="comment"># self.age = age</span></span><br><span class="line">        <span class="comment"># self.gender = gender</span></span><br><span class="line">        <span class="comment"># DeepsharePeople.__init__(self,name,age,gender )</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(name, age, gender)  <span class="comment"># 这里调用的是父类的init，super()是一个对象</span></span><br><span class="line">        self.level = level</span><br><span class="line">        self.salary = salary</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is modifying score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># DeepsharePeople.info(self)</span></span><br><span class="line">        <span class="built_in">super</span>().info()  <span class="comment"># 同理，super()返回值是一个对象，不要self，调用的info是父类的info</span></span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        等级：%s</span></span><br><span class="line"><span class="string">        薪资：%s</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">            % (self.level, self.level)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;10 &quot;</span>, <span class="string">&quot;3.1&quot;</span>)</span><br><span class="line">tea1.info()</span><br></pre></td></tr></table></figure>
<pre><code>        =====个人信息=====
        姓名：albert
        年龄：18
        性别：male</code></pre>
<p>​<br />
等级：10 薪资：10</p>
<p>​</p>
<h3 id="经典类与新式类">经典类与新式类</h3>
<p>一开始的时候我们就引出了这个概念，现在我们来理解一下 &gt;新式类：继承object的类，以及该类的子类孙子类，都是新式类<br />
经典类：没有继承object的类，以及该类的子类，孙子类，都是经典类</p>
<h3 id="多继承属性查找">多继承属性查找</h3>
<p>我们了解了经典类与新式类，接下里我们要清楚他们的区别在哪里，区别就是在属性查找上，我们知道Python支持多继承，我们之前研究的都是单继承，接下来我们就来研究多继承。</p>
<p>先说一下结论，请看下图，当继承关系为菱形结构，那么属性查找的方式有两种，分别是深度优先和广度优先</p>
<figure>
<img src= "/img/ballloading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/BassMio/PicGO/2021/5/%E5%A4%9A%E7%BB%A7%E6%89%BF%E5%B1%9E%E6%80%A7%E6%9F%A5%E6%89%BE" alt="1" /><figcaption aria-hidden="true">1</figcaption>
</figure>
<p>注意：</p>
<p>只有当继承关系组成一个菱形结构，也就是最后至少有两个类都继承了同一个类，这时才会区分经典类与新式类，也就是说如果EFD这三个类中只有一个类或者没有类继承G类，那就不是菱形结构，他的继承关系属性查找就是从左到右，B=&gt;E=&gt;（G=&gt;）C=&gt;F=&gt;D，在这一点上新式类与经典类没有区别，</p>
<p>当继承关系是菱形结构时，深度优先就是一条道走到黑，B=&gt;E=&gt;G=&gt;C=&gt;F=&gt;D</p>
<p>广度优先就是先试探再迂回， B=&gt;E=&gt;C=&gt;F=&gt;D=&gt;G</p>
<p>这个是Python内部的实现机制，它使用的是C3算法去计算出来的多继承属性查找</p>
<figure>
<img src= "/img/ballloading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/BassMio/PicGO/2021/5/%E5%A4%9A%E7%BB%A7%E6%89%BF%E5%B1%9E%E6%80%A7%E6%9F%A5%E6%89%BE2" alt="1" /><figcaption aria-hidden="true">1</figcaption>
</figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;from A&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">A</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;from B&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">A</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;from C&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span>(<span class="params">B</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;from D&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">E</span>(<span class="params">C</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;from E&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">F</span>(<span class="params">D, E</span>):</span></span><br><span class="line">    <span class="comment">#     def test(self):</span></span><br><span class="line">    <span class="comment">#         print(&#x27;from F&#x27;)</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f1 = F()</span><br><span class="line">f1.test()</span><br></pre></td></tr></table></figure>
<pre><code>from D</code></pre>
<p>在这里我们就不花费大量的篇幅去验证了，大家可以自己去验证一下，另外补充一点，在新式类中，专门提供了一个属性查找方法<code>mro</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f1 = F()</span><br><span class="line">f1.test()</span><br><span class="line">print(F.__mro__)</span><br><span class="line">print(F.mro())</span><br></pre></td></tr></table></figure>
<pre><code>from D
(&lt;class &#39;__main__.F&#39;&gt;, &lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.E&#39;&gt;, &lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;object&#39;&gt;)
[&lt;class &#39;__main__.F&#39;&gt;, &lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.E&#39;&gt;, &lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;object&#39;&gt;]</code></pre>
<p>他会以列表或者元祖的形式保存查找顺序，因为这种数据类型都是有顺序的</p>
<h3 id="super-继承查找">super( )继承查找</h3>
<p>接下来是super()对象继承查找的特殊之处，如果代码是这样的，那么自然是没有问题的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;x&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;XF&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params">X</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;1 打印一下，代码先经过这里&quot;</span>)</span><br><span class="line">        <span class="built_in">super</span>().f1()</span><br><span class="line">        print(<span class="string">&quot;3 再打印一下，代码最后经过这里&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;2 再经过这里from B&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">A, B</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c = C()</span><br><span class="line">c.test()</span><br><span class="line">print(C.mro())</span><br></pre></td></tr></table></figure>
<pre><code>1 打印一下，代码先经过这里
XF
3 再打印一下，代码最后经过这里
[&lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;__main__.X&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;object&#39;&gt;]</code></pre>
<p>但是如果是有super()对象参与进来的继承查找，super()所继承的类并没有该方法(object类或者上面代码的X类都可以)，这时mro列表的继承顺序会和我们理解的有冲突，继承顺序会严格按照mro列表从当前查找到的位置继续往后查找，mro方法认为，只要有与当前类平级的类中有他需要查找的方法，那就不管那么多了，认爹吧，所以：即使A与B之间本没有直接的继承关系，A也会把B当成爹，最后再回到当前位置，继续往下执行代码，就像是中了super()的毒一样，而不是按照我们原本的理解，寻找super()对象的test方法，找不到然后找它的父类object类或者X类，然后报错。</p>
<p>示例如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span>:</span>  <span class="comment"># X类没有也是一样的</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;x&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># def f1(self):</span></span><br><span class="line">    <span class="comment">#     print(&#x27;XF&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params">X</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;1 打印一下，代码先经过这里&quot;</span>)</span><br><span class="line">        <span class="built_in">super</span>().f1()</span><br><span class="line">        print(<span class="string">&quot;3 再打印一下，代码最后经过这里&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;2 再经过这里from B&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">A, B</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c = C()</span><br><span class="line">c.test()</span><br><span class="line">print(C.mro())</span><br></pre></td></tr></table></figure>
<pre><code>1 打印一下，代码先经过这里
2 再经过这里from B
3 再打印一下，代码最后经过这里
[&lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;__main__.X&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;object&#39;&gt;]</code></pre>
<p>在子类中重用父类的方法我们知道两种方式：一种是指名道姓的调用父类，另外一种是用super，这两种方式哪种好其实在Python社区的争论一直都有，各有优略，super其实查找一个属性并不够明确， 而另外一种指名道姓的方式你立马就能看出来调用的是哪个类里面的东西，但这种方式却又和继承关系不大 。所以，以后还是用哪一种都可以，但是别混着用。</p>
<h3 id="组合">组合</h3>
<p>严格来讲，其实组合与继承并没有直接的关系，但是组合和继承都是解决类与类之间代码冗余的方案，站在面向对象的角度考虑他们是同一类，所以我们这里放在一起来讲。区别是继承描述的是类与类之间的从属关系，也就是什么是什么的关系，而组合描述的是类与类之间的交叉关系，也就是什么有什么的关系<br />
&gt;一个类产生的对象，该对象拥有一个属性，这个属性的值是来自于另外一个类的对象</p>
<p>依然是我们前面的老师阅读学生的代码，我希望老师对象能够有出生日期这个属性，学生对象也有这个属性，这应该怎么操作呢？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Date</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, year, mon, day</span>):</span></span><br><span class="line">        self.year = year</span><br><span class="line">        self.mon = mon</span><br><span class="line">        self.day = day</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tell_birth</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;出生年月日&lt;%s-%s-%s&gt;&quot;</span> % (self.year, self.mon, self.day))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepsharePeople</span>:</span></span><br><span class="line">    school = <span class="string">&quot;deepshare&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.gender = gender</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareTeacher</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, gender, level, salary</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(name, age, gender)</span><br><span class="line">        self.level = level</span><br><span class="line">        self.salary = salary</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">change_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;teacher %s is changing score&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepshareStudent</span>(<span class="params">DeepsharePeople</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">        self, name, age, gender, course,</span></span></span><br><span class="line"><span class="function"><span class="params">    </span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(</span><br><span class="line">            name, age, gender,</span><br><span class="line">        )</span><br><span class="line">        self.course = course</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;student %s choose course&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = DeepshareTeacher(<span class="string">&quot;albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>, <span class="number">10</span>, <span class="number">3.1</span>)</span><br><span class="line">date_obj = Date(<span class="number">2000</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">date_obj.tell_birth()</span><br><span class="line"></span><br><span class="line">tea1.birth = date_obj</span><br><span class="line">print(tea1.birth)</span><br><span class="line"></span><br><span class="line">tea1.birth.tell_birth()</span><br><span class="line">tea1.change_score()</span><br><span class="line">stu1 = DeepshareStudent(<span class="string">&quot;张三&quot;</span>, <span class="number">16</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;AI&quot;</span>)</span><br><span class="line">stu1.birth = Date(<span class="number">2002</span>, <span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">stu1.birth.tell_birth()</span><br></pre></td></tr></table></figure>
<pre><code>出生年月日&lt;2000-1-1&gt;
&lt;__main__.Date object at 0x00000127D29A8848&gt;
出生年月日&lt;2000-1-1&gt;
teacher albert is changing score
出生年月日&lt;2002-3-3&gt;</code></pre>
<p>到这里我们会发现解决代码重用问题会有两种方案，一种叫继承，一种叫组合，所以在我们本周的项目中会大量的使用组合，因为从软件设计的角度来考虑，使用组合其实会比继承更好，</p>
<p>就刚才的场景来说继承也能实现， 但是继承相当于是类与类之间做了一种强耦合，而组合实质上是一种解耦合，在工作中考虑到软件的可拓展性，代码的耦合性越高，越不利于拓展 。当然继承依然是必不可少的，在后面的课程内容中，我们会带领大家去解读一些Python写的经典的源码，里面会大量的使用组合与继承，这一章节非常重要，所以我花费了大量的篇幅去讲解。</p>
<h1 id="函数概述">函数概述</h1>
<h2 id="函数的定义与调用说明">函数的定义与调用说明</h2>
<p>需要注意的是，函数名本质和变量类似(打印一个变量你直接看到的结果是变量的值，这是龟叔在内部做了转化，为了让你看的更直观，<code>打印函数你直接看到的结果是一个内存地址</code>，从底层上讲，<code>变量名与函数名其实都是与内存地址对应的</code>，因为定义的过程就是在开辟内存空间)，所以函数名定义规则与定义变量名一致。函数就像是一个功能，这个功能就是要执行一个动作，所以约定俗成写成动词或者动词词组。 具备某一个功能的工具就是程序中的函数<br />
事先准备工具的过程就是函数的定义<br />
把准备好的工具拿来就用即为函数的调用</p>
<blockquote>
<p>所以函数的使用必须遵循：先定义，再调用</p>
</blockquote>
<h2 id="函数的定义">函数的定义</h2>
<h3 id="定义函数的三种形式">定义函数的三种形式：</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 有参函数：当函数体的功能依赖于传入的参数时，我们就使用有参函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max2</span>(<span class="params">x, y</span>):</span>  <span class="comment"># x=100,y=101</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> x &gt; y:</span><br><span class="line">        print(x)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">max2(<span class="number">100</span>, <span class="number">101</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 无参函数：当函数体的功能不使用传入的参数时，我们传入参数显然是没有必要的</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    print(<span class="string">&quot;----------------------&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;---soft run-----------&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;----------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">interact</span>():</span></span><br><span class="line">    name = <span class="built_in">input</span>(<span class="string">&quot;username&gt;&gt;: &quot;</span>).strip()</span><br><span class="line">    pwd = <span class="built_in">input</span>(<span class="string">&quot;password&gt;&gt;: &quot;</span>).strip()</span><br><span class="line">    print(name, pwd)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">interact()  <span class="comment"># 定义时无参，意味着调用时也无须传入参数</span></span><br><span class="line">func()  <span class="comment"># 定义时无参，意味着调用时也无须传入参数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 空函数:函数体为pass，事先定义功能组织结构，通过调用函数执行某个功能</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">auth</span>(<span class="params">username, password</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    这是一个用户认证功能，在Pycharm中，当输入三引号回撤之后，下面的三行代码自动出现</span></span><br><span class="line"><span class="string">    :param username: </span></span><br><span class="line"><span class="string">    :param password: </span></span><br><span class="line"><span class="string">    :return: </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">put</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    上传功能</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    下载功能</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ls</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    list contents</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<pre><code>101


username&gt;&gt;:  
password&gt;&gt;:  </code></pre>
<p>​<br />
---------------------- ---soft run----------- ----------------------</p>
<h2 id="函数的调用">函数的调用</h2>
<h3 id="函数调用说明">函数调用说明</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 函数的使用必须遵循：先定义，后调用的原则</span></span><br><span class="line"><span class="comment"># 注意：如果没有事先定义函数而直接调用，就相当于在引用一个不存在的变量名</span></span><br><span class="line"><span class="comment"># 定义阶段：在定义阶段只检测语法，不执行函数体代码</span></span><br><span class="line"><span class="comment"># 调用阶段：根据函数名找到函数的内存地址，然后执行函数体代码</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数名加括号即调用函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义阶段</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>():</span></span><br><span class="line">    print(<span class="string">&quot;from foo&quot;</span>)</span><br><span class="line">    bar()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span>():</span></span><br><span class="line">    print(<span class="string">&quot;from bar&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用阶段</span></span><br><span class="line">foo()</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">会报错</span></span><br><span class="line"><span class="string"># 定义阶段</span></span><br><span class="line"><span class="string">def foo():</span></span><br><span class="line"><span class="string">    print(&#x27;from foo&#x27;)</span></span><br><span class="line"><span class="string">    bar()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 调用阶段</span></span><br><span class="line"><span class="string">foo()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">def bar():</span></span><br><span class="line"><span class="string">    print(&#x27;from bar&#x27;)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<pre><code>from foo
from bar





&quot;\n会报错\n# 定义阶段\ndef foo():\n    print(&#39;from foo&#39;)\n    bar()\n\n\n# 调用阶段\nfoo()\n\n\ndef bar():\n    print(&#39;from bar&#39;)\n&quot;</code></pre>
<h3 id="调用函数的三种形式">调用函数的三种形式</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 基本的调用</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    print(<span class="string">&quot;from func&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 调用并把返回结果赋值给变量</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max2</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; y:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = max2(<span class="number">10</span>, <span class="number">3</span>)</span><br><span class="line">print(res)</span><br><span class="line">res = max2(<span class="number">10</span>, <span class="number">3</span>) * <span class="number">100</span>  <span class="comment"># 和上面类似，对返回结果再计算</span></span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 把返回结果再当做参数传入</span></span><br><span class="line">res = max2(max2(<span class="number">10</span>, <span class="number">3</span>), <span class="number">11</span>)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<pre><code>from func
10
1000
11</code></pre>
<h2 id="函数的返回值">函数的返回值</h2>
<h3 id="函数返回值的三种形式">函数返回值的三种形式</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 没有return，或者return后面什么都不写，返回值None</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = func()</span><br><span class="line">res1 = func1()</span><br><span class="line">res2 = func2()</span><br><span class="line">print(res)</span><br><span class="line">print(res1)</span><br><span class="line">print(res2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 return后跟一个值,返回该值本身</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func3</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res3 = func3()</span><br><span class="line">print(res3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 return可以逗号分隔，返回多个值,会返回一个元组给调用者</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func4</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>, <span class="number">2</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res4 = func4()</span><br><span class="line">print(res4)  <span class="comment"># (1, 2, [1, 2, 3])</span></span><br></pre></td></tr></table></figure>
<pre><code>None
None
None
1
(1, 2, [1, 2, 3])</code></pre>
<h3 id="return两点注意事项">return两点注意事项</h3>
<ul>
<li>return返回值没有类型限制<br />
</li>
<li>return是函数结束的标志，函数内可以写多个return，但执行一次，函数就立刻结束，并把return后的值作为本次调用的返回值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func5</span>():</span></span><br><span class="line">    print(<span class="string">&quot;first&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    print(<span class="string">&quot;second&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    print(<span class="string">&quot;third&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res5 = func5()</span><br><span class="line">print(res5)</span><br></pre></td></tr></table></figure>
<pre><code>first
1</code></pre>
<h2 id="函数的参数">函数的参数</h2>
<h3 id="形参与实参">形参与实参</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">形参（形式参数）：指的是在定义函数时，括号内定义的参数，形参其实就变量名</span></span><br><span class="line"><span class="string">实参（实际参数）：指的是在调用函数时，括号内传入的值，实参其实就是变量的值</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># x,y是形参</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x, y</span>):</span>  <span class="comment"># x=10, y=11</span></span><br><span class="line">    print(x)</span><br><span class="line">    print(y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 10,11是实参</span></span><br><span class="line">func(<span class="number">10</span>, <span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">注意：</span></span><br><span class="line"><span class="string">实参值（变量的值）与形参（变量名）的绑定关系只在函数调用时才会生效/绑定</span></span><br><span class="line"><span class="string">在函数调用结束后就立刻解除绑定</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<pre><code>10
11





&#39;\n注意：\n实参值（变量的值）与形参（变量名）的绑定关系只在函数调用时才会生效/绑定\n在函数调用结束后就立刻解除绑定\n&#39;</code></pre>
<h3 id="有参函数的五种传参方式">有参函数的五种传参方式</h3>
<h4 id="位置参数">位置参数</h4>
<p>以上所讲的形参与实参是有参函数的两个概念，接下是传参方式，位置参数就是最基本的传参方式。位置即顺序，位置参数指的就是按照从左到右的顺序依次定义的参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在定义函数时，按照位置定义的形参，称为位置形参</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y, z</span>):</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">注意：</span></span><br><span class="line"><span class="string">位置形参的特性是：在调用函数时必须为其传值，而且多一个不行，少一个也不行</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在调用函数时，按照位置定义的实参，称为位置实参</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># foo(1,2) # 报错</span></span><br><span class="line"><span class="comment"># foo(1,2,3,4) #报错</span></span><br><span class="line">foo(<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>)  <span class="comment"># x = 1, y = 3, z = 2</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">注意：位置实参会与形参一一对应</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<pre><code>1 3 2





&#39;\n注意：位置实参会与形参一一对应\n&#39;</code></pre>
<h4 id="关键字参数">关键字参数</h4>
<p>在调用函数时，按照key=value的形式定义的实参，称为关键字参数。关键字参数是指在位置形参的前提下，以关键字的形式为形参传值，所以它与位置参数的区别主要是体现在实参的传值上面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y, z</span>):</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">注意：</span></span><br><span class="line"><span class="string">1 相当于直呼其名的为形参传值，意味着即便是不按照顺序定义，仍然能为指定的参数传值</span></span><br><span class="line"><span class="string">foo(2,1,3)  # x=2,y=1,z=3</span></span><br><span class="line"><span class="string">foo(y=2,x=1,z=3)  # x=1,y=2,z=3</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2 在调用函数时，位置实参与关键字实参可以混合使用，但必须遵循形参的规则 </span></span><br><span class="line"><span class="string">foo(1,z=3)  # 报错</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3 不能为同一个形参重复传值</span></span><br><span class="line"><span class="string">foo(1,x=1,y=3,z=2)  # 报错</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">4 位置实参必须放到关键字实参的前面</span></span><br><span class="line"><span class="string">foo(y=3,z=2,1)  # 报错</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">foo(<span class="number">1</span>, z=<span class="number">3</span>, y=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>1 2 3</code></pre>
<h4 id="默认参数">默认参数</h4>
<p>到目前形参只讲了一种就是位置形参，实参讲了两种分别是位置实参和关键字实参，接下来我们再来讲解一种形参，叫做默认参数。它指的是在定义阶段已经为某个形参赋值,那么该形参就称为默认参数 &gt; 默认参数的值应该设置为不可变类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 定义阶段已经有值,意味着调用阶段可以不传值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">register</span>(<span class="params">name, age, sex=<span class="string">&quot;male&quot;</span></span>):</span></span><br><span class="line">    print(name, age, sex)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">register(</span><br><span class="line">    <span class="string">&quot;Albert&quot;</span>, <span class="number">18</span>,</span><br><span class="line">)</span><br><span class="line">register(</span><br><span class="line">    <span class="string">&quot;James&quot;</span>, <span class="number">34</span>,</span><br><span class="line">)</span><br><span class="line">register(<span class="string">&quot;林志玲&quot;</span>, <span class="number">20</span>, <span class="string">&quot;female&quot;</span>)</span><br><span class="line">register(<span class="string">&quot;周星驰&quot;</span>, <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 位置形参必须在默认参数的前面</span></span><br><span class="line"><span class="comment"># def func(y=1,x): #报错</span></span><br><span class="line"><span class="comment">#     pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 默认参数的值只在定义阶段赋值一次,也就是说默认参数的值再定义阶段就固定死了</span></span><br><span class="line">m = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y=m</span>):</span></span><br><span class="line">    print(x, y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m = <span class="string">&quot;a&quot;</span>  <span class="comment"># foo内的默认参数不会发生改变</span></span><br><span class="line">foo(<span class="number">1</span>)</span><br><span class="line">foo(<span class="number">1</span>, <span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 默认参数的值应该设置为不可变类型(重要)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 假如默认参数不是不可变类型，我们以列表为例</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">register</span>(<span class="params">name, hobby, l=[]</span>):</span></span><br><span class="line">    l.append(hobby)</span><br><span class="line">    print(name, l)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">register(<span class="string">&quot;Kobe&quot;</span>, <span class="string">&quot;play&quot;</span>)  <span class="comment"># Kobe [&#x27;play&#x27;] 一切正常~</span></span><br><span class="line">register(<span class="string">&quot;James&quot;</span>, <span class="string">&quot;read&quot;</span>)  <span class="comment"># James [&#x27;play&#x27;, &#x27;read&#x27;] what?!</span></span><br><span class="line">register(<span class="string">&quot;Albert&quot;</span>, <span class="string">&quot;music&quot;</span>)  <span class="comment"># Albert [&#x27;play&#x27;, &#x27;read&#x27;, &#x27;music&#x27;] 这就是未设置为不可变类型出现的BUG</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据出错的原因就是每次调用都会在同一个列表上作修改</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了实现同样的功能，修正后如下</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">register</span>(<span class="params">name, hobby, l=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> l <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        l = []</span><br><span class="line">    l.append(hobby)</span><br><span class="line">    print(name, l)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">register(<span class="string">&quot;Kobe&quot;</span>, <span class="string">&quot;play&quot;</span>)</span><br><span class="line">register(<span class="string">&quot;James&quot;</span>, <span class="string">&quot;read&quot;</span>)</span><br><span class="line">register(<span class="string">&quot;Albert&quot;</span>, <span class="string">&quot;music&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用场景:</span></span><br><span class="line"><span class="comment"># 对于经常需要变化的值,需要将对应的形参定义成位置形参</span></span><br><span class="line"><span class="comment"># 对于大多数情况值都一样的情况,需要将对应的形参定义成默认参数</span></span><br></pre></td></tr></table></figure>
<pre><code>Albert 18 male
James 34 male
林志玲 20 female
周星驰 50 male
1 10
1 11
Kobe [&#39;play&#39;]
James [&#39;play&#39;, &#39;read&#39;]
Albert [&#39;play&#39;, &#39;read&#39;, &#39;music&#39;]
Kobe [&#39;play&#39;]
James [&#39;read&#39;]
Albert [&#39;music&#39;]</code></pre>
<h4 id="可变长参数">可变长参数</h4>
<h5 id="可变长参数基本使用">可变长参数基本使用</h5>
<p>可变长度指的参数的个数可以不固定，实参有按位置定义的实参和按关键字定义的实参,所以可变长的实参指的就是按照这两种形式定义的实参个数可以不固定，然而实参终究是要给形参传值的，所以形参必须有两种对应的解决方案来分别处理以上两种形式可变长度的实参。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># *会将溢出的位置实参全部接收,然后保存成元组的形式赋值给一个变量args(可以任意命名，约定俗成args)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y, z, *args</span>):</span>  <span class="comment"># args=(4,5,6,7,8)</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line">    print(args)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foo(</span><br><span class="line">    <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># **会将溢出的关键字实参全部接收,然后保存成字典的形式赋值给kwargs</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y, z, **kwargs</span>):</span>  <span class="comment"># kwargs=&#123;&#x27;c&#x27;:3,&#x27;a&#x27;:1,&#x27;b&#x27;:2&#125;</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line">    print(kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foo(x=<span class="number">1</span>, y=<span class="number">2</span>, z=<span class="number">3</span>, a=<span class="number">1</span>, b=<span class="number">2</span>, c=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>1 2 3
(4, 5, 6, 7, 8)
1 2 3
&#123;&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3&#125;</code></pre>
<h5 id="星与星星打散">星与星星(打散)</h5>
<p>很多时候【*】的作用就是打散，在讲列表的方法append与extend的区别时，也做了一个简单的说明。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一旦碰到实参加*,就把该实参的值打散</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y, z, *args</span>):</span>  <span class="comment"># args=([4,5,6,7,8],)</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line">    print(args)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, *[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])  <span class="comment"># foo(1,2,3,4,5,6,7,8)</span></span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, *(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>))  <span class="comment"># foo(1,2,3,4,5,6,7,8)</span></span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, *<span class="string">&quot;hello&quot;</span>)  <span class="comment"># foo(1,2,3,&#x27;h&#x27;,&#x27;e&#x27;,&#x27;l&#x27;,&#x27;l&#x27;,&#x27;o&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y, z</span>):</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># foo(*[1, 2, 3, 4])  # foo(1,2,3,4) #报错</span></span><br><span class="line"><span class="comment"># foo(*[1, 2, ])  # foo(1,2,) #报错</span></span><br><span class="line">foo(*[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])  <span class="comment"># foo(1,2,3)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一旦碰到实参加**,就把该实参的值打散</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span>(<span class="params">x, y, z, **kwargs</span>):</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line">    print(kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bar(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, **&#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;)  <span class="comment"># foo(1,2,3,b=2,a=1)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">boo</span>(<span class="params">x, y, z</span>):</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># boo(1, **&#123;&#x27;z&#x27;: 3, &#x27;y&#x27;: 2, &#x27;x&#x27;: 111&#125;)  # 报错 boo(1,z=3,y=2,x=111)</span></span><br><span class="line">boo(<span class="number">1</span>, **&#123;<span class="string">&quot;z&quot;</span>: <span class="number">3</span>, <span class="string">&quot;y&quot;</span>: <span class="number">2</span>&#125;)  <span class="comment"># foo(1,z=3,y=2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># *的应用场景</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum2</span>(<span class="params">*args</span>):</span></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> args:</span><br><span class="line">        res += num</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(sum2(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ** 的应用场景</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">auth</span>(<span class="params">name, pwd, **kwargs</span>):</span></span><br><span class="line">    print(name)</span><br><span class="line">    print(pwd)</span><br><span class="line">    print(kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">auth(name=<span class="string">&quot;Albert&quot;</span>, pwd=<span class="string">&quot;123&quot;</span>)</span><br><span class="line">auth(name=<span class="string">&quot;Albert&quot;</span>, pwd=<span class="string">&quot;123&quot;</span>, group=<span class="string">&quot;group1&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>1 2 3
(4, 5, 6, 7, 8)
1 2 3
(4, 5, 6, 7, 8)
1 2 3
(&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;)
1 2 3
1 2 3
&#123;&#39;a&#39;: 1, &#39;b&#39;: 2&#125;
1 2 3
28
Albert
123
&#123;&#125;
Albert
123
&#123;&#39;group&#39;: &#39;group1&#39;&#125;</code></pre>
<h5 id="组合使用重点">组合使用(重点)</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>(<span class="params">name, age, gender</span>):</span></span><br><span class="line">    print(<span class="string">&quot;welcome %s %s %s&quot;</span> % (name, age, gender))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kwargs</span>):</span>  <span class="comment"># args=(1,2,3),kwargs=&#123;&#x27;x&#x27;:1,&#x27;y&#x27;:2,&#x27;z&#x27;:3&#125;</span></span><br><span class="line">    <span class="comment"># print(args)</span></span><br><span class="line">    <span class="comment"># print(kwargs)</span></span><br><span class="line">    index(</span><br><span class="line">        *args, **kwargs</span><br><span class="line">    )  <span class="comment"># index(*(1,2,3),**&#123;&#x27;x&#x27;:1,&#x27;y&#x27;:2,&#x27;z&#x27;:3&#125;) # index(1,2,3,z=3,y=2,x=2)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># wrapper(1,2,3,x=1,y=2,z=3)  # 报错</span></span><br><span class="line"></span><br><span class="line">wrapper(name=<span class="string">&quot;Albert&quot;</span>, age=<span class="number">18</span>, gender=<span class="string">&quot;male&quot;</span>)</span><br><span class="line">wrapper(<span class="string">&quot;Albert&quot;</span>, age=<span class="number">18</span>, gender=<span class="string">&quot;male&quot;</span>)</span><br><span class="line">wrapper(<span class="string">&quot;Albert&quot;</span>, <span class="number">18</span>, gender=<span class="string">&quot;male&quot;</span>)</span><br><span class="line">wrapper(<span class="string">&quot;Albert&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">执行过程：</span></span><br><span class="line"><span class="string">wrapper的所有参数都原封不动地传给index，而index函数只接收三个位置参数</span></span><br><span class="line"><span class="string">星与星星的组合使用在源码中非常常见，这也是装饰器的核心之一，这非常重要。</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<pre><code>welcome Albert 18 male
welcome Albert 18 male
welcome Albert 18 male
welcome Albert 18 male





&#39;\n执行过程：\nwrapper的所有参数都原封不动地传给index，而index函数只接收三个位置参数\n星与星星的组合使用在源码中非常常见，这也是装饰器的核心之一，这非常重要。\n&#39;</code></pre>
<h4 id="命名关键字参数">命名关键字参数</h4>
<h5 id="命名关键字参数导入">命名关键字参数导入</h5>
<p>在【星】后面参数都是命名关键字参数，它的特点是必须被传值，约束函数的调用者必须按照key=value的形式传值，约束函数的调用者必须用指定的key名。</p>
<p>如果没有命名关键字参数，当我们需要在做上述约束时，应该按照如下代码操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">auth</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    使用方式auth(name=&quot;Albert&quot;,pwd=&quot;123&quot;)</span></span><br><span class="line"><span class="string">    :param args:</span></span><br><span class="line"><span class="string">    :param kwargs:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(args) != <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&quot;必须用关键字的形式传参&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;name&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> kwargs:</span><br><span class="line">        print(<span class="string">&quot;必须用指定的key名name&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;pwd&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> kwargs:</span><br><span class="line">        print(<span class="string">&quot;必须用指定的key名pwd&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    name = kwargs[<span class="string">&quot;name&quot;</span>]</span><br><span class="line">    pwd = kwargs[<span class="string">&quot;pwd&quot;</span>]</span><br><span class="line">    print(name, pwd)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="built_in">help</span>(auth))  <span class="comment"># 打印文档注释</span></span><br><span class="line"></span><br><span class="line">auth(x=<span class="string">&quot;Albert&quot;</span>, y=<span class="string">&quot;123&quot;</span>)</span><br><span class="line">auth(<span class="string">&quot;Albert&quot;</span>, <span class="string">&quot;123&quot;</span>)</span><br><span class="line">auth(<span class="string">&quot;Albert&quot;</span>, pwd=<span class="string">&quot;123&quot;</span>)</span><br><span class="line">auth(name=<span class="string">&quot;Albert&quot;</span>, pwd=<span class="string">&quot;123&quot;</span>)  <span class="comment"># 约束函数的调用者必须用key=value的形式传值</span></span><br></pre></td></tr></table></figure>
<pre><code>Help on function auth in module __main__:

auth(*args, **kwargs)
    使用方式auth(name=&quot;Albert&quot;,pwd=&quot;123&quot;)
    :param args:
    :param kwargs:
    :return:

None
必须用指定的key名name
必须用关键字的形式传参
必须用关键字的形式传参
Albert 123</code></pre>
<h5 id="命名关键字参数使用">命名关键字参数使用</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用命名关键字参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y, *, z</span>):</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># foo(1,2)  # 报错</span></span><br><span class="line"><span class="comment"># foo(1,2,3)  # 报错</span></span><br><span class="line"><span class="comment"># foo(1,2,a=3)  # 报错</span></span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, z=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 其实命名关键字参数的核心是 *，args只是一个变量，有或者没有并不影响</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">auth</span>(<span class="params">*args, name, pwd</span>):</span></span><br><span class="line">    print(name, pwd)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">auth(pwd=<span class="string">&quot;123&quot;</span>, name=<span class="string">&quot;Albert&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 命名关键字参数是硬性限制，但Python的语法风格是约定俗成，不做限制</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">register</span>(<span class="params">name, age</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    我们不会在这里添加对name和age的要求限制</span></span><br><span class="line"><span class="string">    :param name: </span></span><br><span class="line"><span class="string">    :param age: </span></span><br><span class="line"><span class="string">    :return: </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    print(<span class="built_in">type</span>(name), <span class="built_in">type</span>(age))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">register(<span class="number">123</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用命名关键字参数之后，可以接收参数的最复杂的情况</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">x, y=<span class="number">1</span>, *args, z, m=<span class="number">2</span>, **kwargs</span>):</span>  <span class="comment"># m=2是关键字参数的默认值</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一般情况下，foo1和foo2这两种就够用了</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo1</span>(<span class="params">x, y=<span class="number">1</span></span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo2</span>(<span class="params">x, *args, **kwargs</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<pre><code>1 2 3
Albert 123
&lt;class &#39;int&#39;&gt; &lt;class &#39;list&#39;&gt;</code></pre>
<h1 id="闭包函数">闭包函数</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    print(<span class="string">&quot;from func1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line">        print(<span class="string">&quot;from func2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    print(func2)</span><br><span class="line">    func2()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func1()</span><br><span class="line"><span class="comment"># print(func2)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例2</span></span><br><span class="line"><span class="comment"># 函数在定义阶段不执行函数体内的代码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>():</span></span><br><span class="line">    print(<span class="string">&quot;f1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span>():</span></span><br><span class="line">        print(<span class="string">&quot;f2&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f3</span>():</span></span><br><span class="line">            print(<span class="string">&quot;f3&quot;</span>)</span><br><span class="line"></span><br><span class="line">        f3()</span><br><span class="line"></span><br><span class="line">    f2()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f1()</span><br></pre></td></tr></table></figure>
<pre><code>from func1
&lt;function func1.&lt;locals&gt;.func2 at 0x00000271D6DE7318&gt;
from func2
f1
f2
f3</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版本四(使用闭包函数，不修改源函数调用方式)</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    print(<span class="string">&quot;welcome to index page&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">func</span>):</span>  <span class="comment"># func=最原始的index</span></span><br><span class="line">    <span class="comment"># func=最原始的index</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        func()</span><br><span class="line">        stop_time = time.time()</span><br><span class="line">        print(stop_time - start_time)</span><br><span class="line">        print(wrapper)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># a = outer(index)  # outer函数结果可以赋值给任意变量</span></span><br><span class="line"><span class="comment"># b = outer(index)</span></span><br><span class="line"><span class="comment"># c = outer(index)</span></span><br><span class="line">print(index)</span><br><span class="line">index = outer(index)  <span class="comment"># 赋值给index覆盖原来的index，index = wrapper</span></span><br><span class="line">index()  <span class="comment"># wrapper()</span></span><br><span class="line">print(index)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;function index at 0x00000271D82B7558&gt;
welcome to index page
3.014785051345825
&lt;function outer.&lt;locals&gt;.wrapper at 0x00000271D7F16DC8&gt;
&lt;function outer.&lt;locals&gt;.wrapper at 0x00000271D7F16DC8&gt;</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版本五(解决原函数返回值无效)</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&quot;welcome to index page&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>  <span class="comment"># 假如源函数有一个返回值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="comment"># func=最原始的home</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        res = func()  <span class="comment"># 调用最原始的index</span></span><br><span class="line">        stop_time = time.time()</span><br><span class="line">        print(stop_time - start_time)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">index = outer(index)  <span class="comment"># 新的index=wrapper</span></span><br><span class="line">nres = index()  <span class="comment"># 上一个版本返回值为None</span></span><br><span class="line">print(nres)</span><br></pre></td></tr></table></figure>
<pre><code>welcome to index page
1.0116710662841797
1</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 装饰器也是一个函数，使用函数必先定义，所以装饰器放在最上方</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timer</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        res = func(*args, **kwargs)</span><br><span class="line">        stop_time = time.time()</span><br><span class="line">        print(stop_time - start_time)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@timer  </span><span class="comment"># 在被装饰对象正上方单独一行添加，相当于执行index=timer(index)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span>  <span class="comment"># 此时index = wrapper</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&quot;welcome to index page&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># @timer  # home=timer(home) 当不需要装饰器的时候只需注释这一行即可</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">home</span>(<span class="params">name</span>):</span></span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">&quot;welcome %s to home page&quot;</span> % name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">index()</span><br><span class="line"><span class="comment"># home(&quot;Albert&quot;)</span></span><br><span class="line">print(index)</span><br></pre></td></tr></table></figure>
<pre><code>welcome to index page
1.0019211769104004
&lt;function timer.&lt;locals&gt;.wrapper at 0x000001F25CCA68B8&gt;</code></pre>
<h1 id="迭代生成">迭代生成</h1>
<h2 id="迭代器">迭代器</h2>
<h3 id="迭代器说明">迭代器说明</h3>
<p>迭代器就是迭代的工具，迭代是一个重复的过程，并且每次重复都是基于上一次的结果而来。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是一个迭代过程，虽然在重复，但是每次结果不一样</span></span><br><span class="line">dict1 = &#123;<span class="string">&quot;x&quot;</span>: <span class="number">1</span>, <span class="string">&quot;y&quot;</span>: <span class="number">2</span>&#125;</span><br><span class="line">n = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dict1:</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="built_in">len</span>(dict1):</span><br><span class="line">        print(dict1[i])</span><br><span class="line">    n += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 这不是迭代过程，一直在重复，却没有变化</span></span><br><span class="line">    <span class="comment"># while True:</span></span><br><span class="line">    print(<span class="string">&quot;=-------&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>1
=-------&gt;
2
=-------&gt;</code></pre>
<h2 id="可迭代对象">可迭代对象</h2>
<p>要想了解迭代器到底是什么？必须先要清楚一个概念，即什么是可迭代的对象？在python中，只要内置有<code>iter</code>方法的对象，都是可迭代的对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这不是可迭代对象</span></span><br><span class="line">num = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 以下都是可迭代的对象</span></span><br><span class="line">str1 = <span class="string">&quot;hello&quot;</span></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">tup1 = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">dict1 = &#123;<span class="string">&quot;x&quot;</span>: <span class="number">1</span>&#125;</span><br><span class="line">set1 = &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line">file1 = <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="迭代器用法">迭代器用法</h2>
<p>可迭代的对象执行iter方法得到的返回值就是迭代器对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&quot;x&quot;</span>: <span class="number">1</span>, <span class="string">&quot;y&quot;</span>: <span class="number">2</span>, <span class="string">&quot;z&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line">iter_dict1 = dict1.__iter__()</span><br><span class="line">print(iter_dict1)  <span class="comment"># 双下划线开头和结尾在python中称为魔法函数，之后在面向对象的章节中会详述，好奇的同学请自行百度</span></span><br><span class="line">print(iter_dict1.__next__())</span><br><span class="line">print(iter_dict1.__next__())</span><br><span class="line">print(iter_dict1.__next__())</span><br><span class="line"><span class="comment"># print(iter_dict1.__next__())  # 停止迭代</span></span><br><span class="line"></span><br><span class="line">set1 = &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line">iter_set1 = set1.__iter__()</span><br><span class="line">print(iter_set1.__next__())</span><br><span class="line">print(iter_set1.__next__())</span><br><span class="line">print(iter_set1.__next__())</span><br><span class="line"><span class="comment"># print(iter_set1.__next__())  # 停止迭代</span></span><br><span class="line"></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">iter_list1 = list1.__iter__()</span><br><span class="line">print(iter_list1.__next__())</span><br><span class="line">print(iter_list1.__next__())</span><br><span class="line">print(iter_list1.__next__())</span><br></pre></td></tr></table></figure>
<pre><code>&lt;dict_keyiterator object at 0x000001CA54634DB8&gt;
x
y
z
c
b
a
1
2
3</code></pre>
<h2 id="可迭代对象vs迭代器对象">可迭代对象VS迭代器对象</h2>
<h3 id="可迭代对象-1">可迭代对象</h3>
<p>可迭代对象无须获取，Python内置str，list，tuple，dict，set，file都是可迭代对象，它的特点是内置有iter方法，执行该方法会拿到一个返回值就是迭代器对象。</p>
<h3 id="迭代器对象">迭代器对象</h3>
<p>文件对象本身既是可迭代对象又是迭代器对象，可迭代对象执行iter方法，拿到的返回值就是迭代器对象。迭代器对象的特点是内置有next方法，执行该方法会拿到迭代器对象中的一个值，迭代器对象内置有iter方法，执行该方法会拿到迭代器本身。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&quot;hello&quot;</span>  <span class="comment"># 可迭代对象</span></span><br><span class="line"></span><br><span class="line">iter_str1 = str1.__iter__()  <span class="comment"># 迭代器对象</span></span><br><span class="line">print(iter_str1.__next__())  <span class="comment"># 取出迭代器对象中的一个值</span></span><br><span class="line">print(iter_str1.__iter__() <span class="keyword">is</span> iter_str1)</span><br><span class="line">print(iter_str1.__iter__().__iter__() <span class="keyword">is</span> iter_str1)</span><br><span class="line">print(iter_str1.__iter__().__iter__().__iter__() <span class="keyword">is</span> iter_str1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件本身既是迭代器对象又是可迭代对象</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">print(f.__iter__() <span class="keyword">is</span> f)</span><br><span class="line">print(f.__next__())</span><br><span class="line">print(f.__next__())</span><br><span class="line">print(f.__next__())</span><br><span class="line">print(f.__next__())</span><br><span class="line">print(f.__next__())</span><br></pre></td></tr></table></figure>
<h2 id="迭代器优缺点分析">迭代器优缺点分析</h2>
<h3 id="优点">优点</h3>
<h4 id="提供了一种可以不依赖索引取值的方式">提供了一种可以不依赖索引取值的方式</h4>
<p>假如你现在没有学过for循环，对于没有索引的可迭代对象如set，dict或者file这些应该怎么单独取出里面的每一个值？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 集合</span></span><br><span class="line">set1 = &#123;</span><br><span class="line">    <span class="number">1</span>,</span><br><span class="line">    <span class="number">2</span>,</span><br><span class="line">    <span class="number">3</span>,</span><br><span class="line">    <span class="number">4</span>,</span><br><span class="line">    <span class="number">5</span>,</span><br><span class="line">&#125;</span><br><span class="line">iter_set1 = set1.__iter__()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># try和except是第三阶段面向对象最后一个章节的内容，这里先简单使用一下</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:  <span class="comment"># 监测try下面的代码块是否出现异常</span></span><br><span class="line">        print(iter_set1.__next__())</span><br><span class="line">    <span class="keyword">except</span> StopIteration:  <span class="comment"># 相当于if判断，如果出现的异常是StopIteration</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典</span></span><br><span class="line">dict1 = &#123;<span class="string">&quot;x&quot;</span>: <span class="number">1</span>, <span class="string">&quot;y&quot;</span>: <span class="number">2</span>, <span class="string">&quot;z&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line">iter_dict1 = dict1.__iter__()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(iter_dict1.__next__())</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件内容有五行，每行分别是一个数字1，2，3，4，5</span></span><br><span class="line">file1 = <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">iter_file1 = file1.__iter__()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(iter_file1.__next__())</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">file1.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表</span></span><br><span class="line"><span class="comment"># 有索引的可迭代对象自然也可以使用</span></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>]</span><br><span class="line">iter_list1 = list1.__iter__()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(iter_list1.__next__())</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<pre><code>1
2
3
4
5
x
y
z
1
2
3
4
4
5
5
6
6
6</code></pre>
<h4 id="迭代器更加节省内存">迭代器更加节省内存</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range用法</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># item是一个可迭代对象，指的是从0到100000000000000000000000的所有数字</span></span><br><span class="line">item = <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">iter_item = item.__iter__()  <span class="comment"># 迭代器对象</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(iter_item.__next__())</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h3 id="缺点">缺点</h3>
<h4 id="取值有缺陷">取值有缺陷</h4>
<p>取值麻烦，只能一个一个取，只能往后取，并且是一次性的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">iter_x = x.__iter__()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(iter_x.__next__())</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;第二次=================================&gt;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># iter_x = x.__iter__()  # 注释这行第二次取不到，像小孩玩滑梯一样，要重新爬上去</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(iter_x.__next__())</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h4 id="无法用len获取长度">无法用len获取长度</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">iter_x = x.__iter__()</span><br><span class="line"><span class="comment"># print(len(iter_x))  # 没有获取长度方法</span></span><br></pre></td></tr></table></figure>
<h2 id="for循环的原理">for循环的原理</h2>
<p>for循环称之为迭代器循环，in后跟的必须是可迭代的对象，for循环会执行in后对象的iter方法，拿到迭代器对象，然后调用迭代器对象的next方法，拿到一个返回值赋值给一个变量，周而复始，直到取值完毕，for循环会检测到异常自动结束循环。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">file1 = <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> file1:  <span class="comment"># iter_file1=file1.__iter__()</span></span><br><span class="line">    print(line)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> &#123;<span class="string">&quot;x&quot;</span>: <span class="number">1</span>, <span class="string">&quot;y&quot;</span>: <span class="number">2</span>&#125;:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure>
<pre><code>x
y</code></pre>
<h2 id="生成器说明">生成器说明</h2>
<p>我们可以把上面讲过的迭代器理解为一只老母鸡，理论上讲，老母鸡的肚子里可以有无穷个蛋，但是它需要一个一个的下蛋，Python给我们内置了几种老母鸡数据类型。</p>
<p>生成器其实本质就是迭代器，或者说生成器是特殊的迭代器，因为生成器是我们自己制造的迭代器。</p>
<h2 id="yield两个用法">yield两个用法</h2>
<ul>
<li>yield为我们提供了一种自定义迭代器的方式，可以在函数内用yield关键字，调用函数拿到的结果就是一个生成器。<br />
</li>
<li>yield可以像return一样用于返回值，区别是return只能返回一次值，而yield可返回多次，因为yield可以保存函数执行的状态。<br />
</li>
<li>yield与return用法比较</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yield</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_yield</span>():</span></span><br><span class="line">    print(<span class="string">&quot;=======&gt;first&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    print(<span class="string">&quot;=======&gt;second&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    print(<span class="string">&quot;=======&gt;third&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用yield返回，调用函数时，不会执行函数体代码，拿到的返回值就是一个生成器对象</span></span><br><span class="line">res = test_yield()</span><br><span class="line">print(res)  <span class="comment"># &lt;generator object test_yield at 0x1078f7660&gt;</span></span><br><span class="line">print(res.__iter__() <span class="keyword">is</span> res)</span><br><span class="line">print(res.__next__())</span><br><span class="line">print(res.__next__())</span><br><span class="line">print(res.__next__())</span><br><span class="line"></span><br><span class="line"><span class="comment"># return</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_return</span>():</span></span><br><span class="line">    print(<span class="string">&quot;=======&gt;first&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>  <span class="comment"># 使用return返回，函数执行结束</span></span><br><span class="line">    print(<span class="string">&quot;=======&gt;second&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    print(<span class="string">&quot;=======&gt;third&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = test_return()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;generator object test_yield at 0x000001F25CCC73C8&gt;
True
=======&gt;first
1
=======&gt;second
2
=======&gt;third
3
=======&gt;first</code></pre>
<h2 id="生成器的构造">生成器的构造</h2>
<p>函数内包含有yield关键字，再调用函数，就不会执行函数体代码，拿到的返回值就是一个生成器对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chicken</span>():</span></span><br><span class="line">    print(<span class="string">&quot;=====&gt;first&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    print(<span class="string">&quot;=====&gt;second&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    print(<span class="string">&quot;=====&gt;third&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = chicken()</span><br><span class="line">print(obj)</span><br><span class="line">print(obj.__iter__() <span class="keyword">is</span> obj)</span><br><span class="line">print(obj.__next__())</span><br><span class="line">print(obj.__next__())</span><br><span class="line">print(obj.__next__())</span><br></pre></td></tr></table></figure>
<pre><code>&lt;generator object chicken at 0x000001F25CCC73C8&gt;
True
=====&gt;first
1
=====&gt;second
2
=====&gt;third
3</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_age</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">18</span></span><br><span class="line">    <span class="keyword">return</span> get_age(n - <span class="number">1</span>) + <span class="number">2</span>  <span class="comment"># age(4)+2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 可以写成以下三元表达式形式，貌似高端，但是会让程序看起来不够简洁</span></span><br><span class="line">    <span class="comment"># return 18 if n == 1 else age(n - 1) + 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(get_age(<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<pre><code>26</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Mio</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://bassmio.github.io/5d42378d.html">http://bassmio.github.io/5d42378d.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://bassmio.github.io" target="_blank">Mio's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AF%AD%E9%9B%80/">语雀</a></div><div class="post_share"><div class="social-share" data-image="https://tva2.sinaimg.cn/mw690/6833939bly1giclwuom7cj20zk0m8dvn.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/6c51f6e8.html"><img class="prev-cover" data-lazy-src="https://tva2.sinaimg.cn/mw690/6833939bly1giclj61ylzj20zk0m8b29.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Numpy学习</div></div></a></div><div class="next-post pull-right"><a href="/c5634a1b.html"><img class="next-cover" data-lazy-src="https://tva2.sinaimg.cn/mw690/6833939bly1gipeyhsblkj20zk0m81kx.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">批处理模式运行EDEM</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="/img/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Mio</div><div class="author-info__description">学如逆水行舟&#44;不进则退</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">24</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/bassmio"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/bassmio" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:fredericatoms@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://cdn.jsdelivr.net/gh/BassMio/PicGO/2021/tool/%E5%BE%AE%E4%BF%A1.jpg" target="_blank" title="Wechat"><i class="fa fa-weixin"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">授是最好的学习！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4"><span class="toc-number">1.</span> <span class="toc-text">名称空间</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4-1"><span class="toc-number">1.1.</span> <span class="toc-text">名称空间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">绑定方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%88%87%E7%9A%86%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.</span> <span class="toc-text">一切皆对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">1.4.</span> <span class="toc-text">对象属性的增删改查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.4.1.</span> <span class="toc-text">查看</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0"><span class="toc-number">1.4.2.</span> <span class="toc-text">添加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">1.4.3.</span> <span class="toc-text">删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9"><span class="toc-number">1.4.4.</span> <span class="toc-text">修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%8F%E5%A0%82%E7%BB%83%E4%B9%A0"><span class="toc-number">1.5.</span> <span class="toc-text">随堂练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E4%B8%80"><span class="toc-number">1.5.1.</span> <span class="toc-text">练习一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E4%BA%8C"><span class="toc-number">1.5.2.</span> <span class="toc-text">练习二</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7"><span class="toc-number">2.</span> <span class="toc-text">三大特性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">2.1.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.1.</span> <span class="toc-text">继承的基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AF%BB%E6%89%BE%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB"><span class="toc-number">2.1.2.</span> <span class="toc-text">如何寻找继承关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E6%9F%A5%E6%89%BE"><span class="toc-number">2.1.3.</span> <span class="toc-text">属性查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B4%BE%E7%94%9F"><span class="toc-number">2.1.4.</span> <span class="toc-text">派生</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8%E7%B1%BB%E4%B8%8E%E6%96%B0%E5%BC%8F%E7%B1%BB"><span class="toc-number">2.1.5.</span> <span class="toc-text">经典类与新式类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF%E5%B1%9E%E6%80%A7%E6%9F%A5%E6%89%BE"><span class="toc-number">2.1.6.</span> <span class="toc-text">多继承属性查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#super-%E7%BB%A7%E6%89%BF%E6%9F%A5%E6%89%BE"><span class="toc-number">2.1.7.</span> <span class="toc-text">super( )继承查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88"><span class="toc-number">2.1.8.</span> <span class="toc-text">组合</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%A6%82%E8%BF%B0"><span class="toc-number">3.</span> <span class="toc-text">函数概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E8%B0%83%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">3.1.</span> <span class="toc-text">函数的定义与调用说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">3.2.</span> <span class="toc-text">函数的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%89%E7%A7%8D%E5%BD%A2%E5%BC%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">定义函数的三种形式：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8"><span class="toc-number">3.3.</span> <span class="toc-text">函数的调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">3.3.1.</span> <span class="toc-text">函数调用说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%89%E7%A7%8D%E5%BD%A2%E5%BC%8F"><span class="toc-number">3.3.2.</span> <span class="toc-text">调用函数的三种形式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">3.4.</span> <span class="toc-text">函数的返回值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E4%B8%89%E7%A7%8D%E5%BD%A2%E5%BC%8F"><span class="toc-number">3.4.1.</span> <span class="toc-text">函数返回值的三种形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#return%E4%B8%A4%E7%82%B9%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.4.2.</span> <span class="toc-text">return两点注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">3.5.</span> <span class="toc-text">函数的参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A2%E5%8F%82%E4%B8%8E%E5%AE%9E%E5%8F%82"><span class="toc-number">3.5.1.</span> <span class="toc-text">形参与实参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E5%8F%82%E5%87%BD%E6%95%B0%E7%9A%84%E4%BA%94%E7%A7%8D%E4%BC%A0%E5%8F%82%E6%96%B9%E5%BC%8F"><span class="toc-number">3.5.2.</span> <span class="toc-text">有参函数的五种传参方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-number">3.5.2.1.</span> <span class="toc-text">位置参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="toc-number">3.5.2.2.</span> <span class="toc-text">关键字参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-number">3.5.2.3.</span> <span class="toc-text">默认参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E9%95%BF%E5%8F%82%E6%95%B0"><span class="toc-number">3.5.2.4.</span> <span class="toc-text">可变长参数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E9%95%BF%E5%8F%82%E6%95%B0%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.5.2.4.1.</span> <span class="toc-text">可变长参数基本使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%98%9F%E4%B8%8E%E6%98%9F%E6%98%9F%E6%89%93%E6%95%A3"><span class="toc-number">3.5.2.4.2.</span> <span class="toc-text">星与星星(打散)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8%E9%87%8D%E7%82%B9"><span class="toc-number">3.5.2.4.3.</span> <span class="toc-text">组合使用(重点)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="toc-number">3.5.2.5.</span> <span class="toc-text">命名关键字参数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0%E5%AF%BC%E5%85%A5"><span class="toc-number">3.5.2.5.1.</span> <span class="toc-text">命名关键字参数导入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0%E4%BD%BF%E7%94%A8"><span class="toc-number">3.5.2.5.2.</span> <span class="toc-text">命名关键字参数使用</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E5%87%BD%E6%95%B0"><span class="toc-number">4.</span> <span class="toc-text">闭包函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E7%94%9F%E6%88%90"><span class="toc-number">5.</span> <span class="toc-text">迭代生成</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">5.1.</span> <span class="toc-text">迭代器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">5.1.1.</span> <span class="toc-text">迭代器说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.2.</span> <span class="toc-text">可迭代对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%94%A8%E6%B3%95"><span class="toc-number">5.3.</span> <span class="toc-text">迭代器用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1vs%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.4.</span> <span class="toc-text">可迭代对象VS迭代器对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1-1"><span class="toc-number">5.4.1.</span> <span class="toc-text">可迭代对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.4.2.</span> <span class="toc-text">迭代器对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">5.5.</span> <span class="toc-text">迭代器优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-number">5.5.1.</span> <span class="toc-text">优点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E4%BE%9B%E4%BA%86%E4%B8%80%E7%A7%8D%E5%8F%AF%E4%BB%A5%E4%B8%8D%E4%BE%9D%E8%B5%96%E7%B4%A2%E5%BC%95%E5%8F%96%E5%80%BC%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">5.5.1.1.</span> <span class="toc-text">提供了一种可以不依赖索引取值的方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%9B%B4%E5%8A%A0%E8%8A%82%E7%9C%81%E5%86%85%E5%AD%98"><span class="toc-number">5.5.1.2.</span> <span class="toc-text">迭代器更加节省内存</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-number">5.5.2.</span> <span class="toc-text">缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%96%E5%80%BC%E6%9C%89%E7%BC%BA%E9%99%B7"><span class="toc-number">5.5.2.1.</span> <span class="toc-text">取值有缺陷</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E6%B3%95%E7%94%A8len%E8%8E%B7%E5%8F%96%E9%95%BF%E5%BA%A6"><span class="toc-number">5.5.2.2.</span> <span class="toc-text">无法用len获取长度</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">5.6.</span> <span class="toc-text">for循环的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">5.7.</span> <span class="toc-text">生成器说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#yield%E4%B8%A4%E4%B8%AA%E7%94%A8%E6%B3%95"><span class="toc-number">5.8.</span> <span class="toc-text">yield两个用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E7%9A%84%E6%9E%84%E9%80%A0"><span class="toc-number">5.9.</span> <span class="toc-text">生成器的构造</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/0.html" title="无题"><img data-lazy-src="https://tva2.sinaimg.cn/mw690/6833939bly1giph4fomxoj20zk0m8axp.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/0.html" title="无题">无题</a><time datetime="2021-08-12T01:55:54.268Z" title="发表于 2021-08-12 09:55:54">2021-08-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/d13b70d5.html" title="DEM接触模型理论"><img data-lazy-src="https://tva2.sinaimg.cn/mw690/6833939bly1giclimtf7dj20zk0m8qav.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DEM接触模型理论"/></a><div class="content"><a class="title" href="/d13b70d5.html" title="DEM接触模型理论">DEM接触模型理论</a><time datetime="2021-08-09T19:47:10.000Z" title="发表于 2021-08-10 03:47:10">2021-08-10</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 <i style="color:#FF6A6A" class="fa fa-heartbeat"></i>Mio</div><div class="framework-info"><span class="footer-separator"> </span><a target="_blank" rel="noopener" href="https://hexo.io"><img class="entered loading" src="https://img.shields.io/badge/Frame-Hexo-blue?style=plastic&amp;logo=hexo" title="博客框架为Hexo" alt="hexo" data-ll-status="loading"/></a><span class="footer-separator"> </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly"><img class="entered loading" src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=plastic&amp;amp&amp;logo=bitdefender" title="主题采用butterfly" alt="主题采用butterfly" data-ll-status="loading"/></a><span class="footer-separator"> </span><a target="_blank" rel="noopener" href="https://bassmio.cool">  <img class="entered loading" src="https://img.shields.io/badge/Source-Gitee-d021d6?style=plastic&amp;logo=Git" title="本站项目由Gitee托管" alt="gitee托管" data-ll-status="loading"/></a><span class="footer-separator"></span><a target="_blank" rel="noopener" href="https://www.jsdelivr.com/"> <img class="entered loading" src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=plastic&amp;amp&amp;logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速" alt="jsd加速" data-ll-status="loading"/></a><span class="footer-separator"></span><a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"> <img class="entered loading" src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=plastic&amp;amp&amp;logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" alt="协议" data-ll-status="loading"/></a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://bassmio.cool/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        addClass: [200,() => {
          document.querySelectorAll('mjx-container:not([display=\'true\']').forEach( node => {
            const target = node.parentNode
            if (!target.classList.contains('has-jax')) {
              target.classList.add('mathjax-overflow')
            }
          })
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      true && mermaid.init()
    })
  }
}</script></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/hexo-theme-volantis@latest/source/js/issues.min.js"></script><script src="https://cdn.jsdelivr.net/gh/fz6m/Private-web@2.0.7/js/custom/lamu-leimu.min.js"></script><script src="/js/mirror.js"></script><script defer src="https://cdn.jsdelivr.net/gh/graingert/wow@1.3.0/dist/wow.min.js"></script><script defer data-pjax src="/js/wow_init.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax], .pjax-reload script').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><div class="pjax-reload"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '700ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '50');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer="defer" src="https://cdn.jsdelivr.net/gh/graingert/wow@1.3.0/dist/wow.min.js"></script><script defer="defer" src="/js/wow_init.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html><script type="text/javascript" src="/js/crash_cheat.js"></script>